{"version":3,"file":"groupfolders-sharing.js?v=735e8a7c0de57d4debc9","mappings":"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","sources":["webpack:///groupfolders/src/components/AclStateButton.vue","webpack:///groupfolders/src/components/AclStateButton.vue?vue&type=script&lang=js&","webpack://groupfolders/./src/components/AclStateButton.vue?ea99","webpack://groupfolders/./src/components/AclStateButton.vue?8735","webpack:///groupfolders/src/components/AclStateButton.vue?vue&type=template&id=7e1f0cfc&scoped=true&","webpack:///groupfolders/src/BinaryTools.js","webpack:///groupfolders/src/components/SharingSidebarView.vue","webpack:///groupfolders/src/components/SharingSidebarView.vue?vue&type=script&lang=js&","webpack://groupfolders/./src/components/SharingSidebarView.vue?613b","webpack://groupfolders/./src/components/SharingSidebarView.vue?af13","webpack:///groupfolders/src/components/SharingSidebarView.vue?vue&type=template&id=2f8e8ed6&scoped=true&","webpack:///groupfolders/src/SharingSidebarApp.js","webpack:///groupfolders/src/components/AclStateButton.vue?vue&type=style&index=0&id=7e1f0cfc&scoped=true&lang=css&","webpack:///groupfolders/src/components/SharingSidebarView.vue?vue&type=style&index=0&id=2f8e8ed6&scoped=true&lang=css&"],"sourcesContent":["<!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n<template>\n\t<div v-if=\"readOnly\">\n\t\t<button v-if=\"!isAllowed\" v-tooltip=\"t('groupfolders', 'Denied')\" class=\"icon-deny\" />\n\t\t<button v-else v-tooltip=\"t('groupfolders', 'Allowed')\" class=\"icon-checkmark\" />\n\t</div>\n\t<div v-else v-click-outside=\"popoverClose\" style=\"position: relative;\">\n\t\t<button v-if=\"state === STATES.INHERIT_DENY\"\n\t\t\tv-tooltip=\"t('groupfolders', 'Denied (Inherited permission)')\"\n\t\t\t:disabled=\"disabled\"\n\t\t\tclass=\"icon-deny inherited\"\n\t\t\t@click=\"open = true\" />\n\t\t<button v-else-if=\"state === STATES.INHERIT_ALLOW\"\n\t\t\tv-tooltip=\"t('groupfolders', 'Allowed (Inherited permission)')\"\n\t\t\t:disabled=\"disabled\"\n\t\t\tclass=\"icon-checkmark inherited\"\n\t\t\t@click=\"open = true\" />\n\t\t<button v-else-if=\"state === STATES.SELF_DENY\"\n\t\t\tv-tooltip=\"t('groupfolders', 'Denied')\"\n\t\t\t:disabled=\"disabled\"\n\t\t\t:class=\"'icon-deny' + (inherited ? ' inherited' : '')\"\n\t\t\t@click=\"open = true\" />\n\t\t<button v-else-if=\"state === STATES.SELF_ALLOW\"\n\t\t\tv-tooltip=\"t('groupfolders', 'Allowed')\"\n\t\t\t:disabled=\"disabled\"\n\t\t\t:class=\"'icon-checkmark' + (inherited ? ' inherited' : '')\"\n\t\t\t@click=\"open = true\" />\n\t\t<div class=\"popovermenu\" :class=\"{open: open}\">\n\t\t\t<PopoverMenu :menu=\"menu\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { PopoverMenu, Tooltip } from '@nextcloud/vue'\n\nconst STATES = {\n\tINHERIT_DENY: 0,\n\tINHERIT_ALLOW: 1,\n\tSELF_DENY: 2,\n\tSELF_ALLOW: 3,\n}\n\nexport default {\n\tname: 'AclStateButton',\n\tdirectives: {\n\t\ttooltip: Tooltip,\n\t},\n\tcomponents: { PopoverMenu },\n\tprops: {\n\t\tinherited: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tstate: {\n\t\t\ttype: Number,\n\t\t\tdefault: STATES.INHERIT_DENY,\n\t\t},\n\t\treadOnly: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tSTATES,\n\t\t\topen: false,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\ticon: 'icon-history',\n\t\t\t\t\ttext: t('groupfolders', 'Inherit permission'),\n\t\t\t\t\tactive: this.state === STATES.INHERIT_ALLOW || this.state === STATES.INHERIT_DENY,\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tthis.$emit('update', STATES.INHERIT_ALLOW)\n\t\t\t\t\t\tthis.popoverClose()\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'icon-close',\n\t\t\t\t\ttext: t('groupfolders', 'Deny'),\n\t\t\t\t\tactive: this.state === STATES.SELF_DENY,\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tthis.$emit('update', STATES.SELF_DENY)\n\t\t\t\t\t\tthis.popoverClose()\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'icon-history',\n\t\t\t\t\ttext: t('groupfolders', 'Allow'),\n\t\t\t\t\tactive: this.state === STATES.SELF_ALLOW,\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tthis.$emit('update', STATES.SELF_ALLOW)\n\t\t\t\t\t\tthis.popoverClose()\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\t},\n\tcomputed: {\n\t\tisAllowed() {\n\t\t\treturn this.state & 1\n\t\t},\n\t},\n\tmethods: {\n\t\tpopoverClose() {\n\t\t\tthis.open = false\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n\t.popovermenu {\n\t\ttop: 38px;\n\t\tright: -5px;\n\t}\n\n\tbutton {\n\t\theight: 24px;\n\t\tborder-color: transparent;\n\t}\n\n\tbutton:hover {\n\t\theight: 24px;\n\t\tborder-color: var(--color-primary, #0082c9);\n\t}\n\n\t.icon-deny {\n\t\tbackground-image: url('../../img/deny.svg');\n\t}\n\n\t.inherited {\n\t\topacity: 0.5;\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AclStateButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AclStateButton.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AclStateButton.vue?vue&type=style&index=0&id=7e1f0cfc&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AclStateButton.vue?vue&type=style&index=0&id=7e1f0cfc&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AclStateButton.vue?vue&type=template&id=7e1f0cfc&scoped=true&\"\nimport script from \"./AclStateButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AclStateButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AclStateButton.vue?vue&type=style&index=0&id=7e1f0cfc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e1f0cfc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.readOnly)?_c('div',[(!_vm.isAllowed)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Denied')),expression:\"t('groupfolders', 'Denied')\"}],staticClass:\"icon-deny\"}):_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Allowed')),expression:\"t('groupfolders', 'Allowed')\"}],staticClass:\"icon-checkmark\"})]):_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.popoverClose),expression:\"popoverClose\"}],staticStyle:{\"position\":\"relative\"}},[(_vm.state === _vm.STATES.INHERIT_DENY)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Denied (Inherited permission)')),expression:\"t('groupfolders', 'Denied (Inherited permission)')\"}],staticClass:\"icon-deny inherited\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":function($event){_vm.open = true}}}):(_vm.state === _vm.STATES.INHERIT_ALLOW)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Allowed (Inherited permission)')),expression:\"t('groupfolders', 'Allowed (Inherited permission)')\"}],staticClass:\"icon-checkmark inherited\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":function($event){_vm.open = true}}}):(_vm.state === _vm.STATES.SELF_DENY)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Denied')),expression:\"t('groupfolders', 'Denied')\"}],class:'icon-deny' + (_vm.inherited ? ' inherited' : ''),attrs:{\"disabled\":_vm.disabled},on:{\"click\":function($event){_vm.open = true}}}):(_vm.state === _vm.STATES.SELF_ALLOW)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Allowed')),expression:\"t('groupfolders', 'Allowed')\"}],class:'icon-checkmark' + (_vm.inherited ? ' inherited' : ''),attrs:{\"disabled\":_vm.disabled},on:{\"click\":function($event){_vm.open = true}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"popovermenu\",class:{open: _vm.open}},[_c('PopoverMenu',{attrs:{\"menu\":_vm.menu}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n *  This program is free software: you can redistribute it and/or modify\n *  it under the terms of the GNU Affero General Public License as\n *  published by the Free Software Foundation, either version 3 of the\n *  License, or (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU Affero General Public License for more details.\n *\n *  You should have received a copy of the GNU Affero General Public License\n *  along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nconst BinaryTools = {\n\ttoString(num) {\n\t\treturn (num >>> 0).toString(2).padStart(8, '0')\n\t},\n\n\tfirstHigh(num) {\n\t\tlet position = 0\n\t\twhile (num !== 0) {\n\t\t\tif (num & 1 > 0) {\n\t\t\t\treturn position\n\t\t\t}\n\t\t\tposition++\n\t\t\tnum = num >> 1\n\t\t}\n\t\treturn 0\n\t},\n\n\ttest(num, bit) {\n\t\treturn ((num >> bit) % 2 !== 0)\n\t},\n\n\tset(num, bit) {\n\t\treturn num | 1 << bit\n\t},\n\n\tclear(num, bit) {\n\t\treturn num & ~(1 << bit)\n\t},\n\n\ttoggle(num, bit) {\n\t\treturn this.test(num, bit) ? this.clear(num, bit) : this.set(num, bit)\n\t},\n}\n\nexport default BinaryTools\n","<!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n<template>\n\t<div v-if=\"aclEnabled && !loading\" id=\"groupfolder-acl-container\">\n\t\t<div class=\"groupfolder-entry\">\n\t\t\t<div class=\"avatar icon-group-white\" />\n\t\t\t<span class=\"username\" />\n\t\t</div>\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th />\n\t\t\t\t\t<th>{{ t('groupfolders', 'Group folder') }}</th>\n\t\t\t\t\t<th v-tooltip=\"t('groupfolders', 'Read')\" class=\"state-column\">\n\t\t\t\t\t\t{{ t('groupfolders', 'Read') }}\n\t\t\t\t\t</th>\n\t\t\t\t\t<th v-tooltip=\"t('groupfolders', 'Write')\" class=\"state-column\">\n\t\t\t\t\t\t{{ t('groupfolders', 'Write') }}\n\t\t\t\t\t</th>\n\t\t\t\t\t<th v-if=\"model.type === 'dir'\" v-tooltip=\"t('groupfolders', 'Create')\" class=\"state-column\">\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tt('groupfolders', 'Create') }}\n\t\t\t\t\t</th>\n\t\t\t\t\t<th v-tooltip=\"t('groupfolders', 'Delete')\" class=\"state-column\">\n\t\t\t\t\t\t{{ t('groupfolders', 'Delete') }}\n\t\t\t\t\t</th>\n\t\t\t\t\t<th v-tooltip=\"t('groupfolders', 'Share')\" class=\"state-column\">\n\t\t\t\t\t\t{{ t('groupfolders', 'Share') }}\n\t\t\t\t\t</th>\n\t\t\t\t\t<th class=\"state-column\" />\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody v-if=\"!isAdmin\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<Avatar user=\"admin\" :size=\"24\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"username\">\n\t\t\t\t\t\t{{ t('groupfolders', 'You') }}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_READ, model.permissions, 1)\" :read-only=\"true\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_UPDATE, model.permissions, 1)\" :read-only=\"true\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"model.type === 'dir'\" class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_CREATE, model.permissions, 1)\" :read-only=\"true\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_DELETE, model.permissions, 1)\" :read-only=\"true\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_SHARE, model.permissions, 1)\" :read-only=\"true\" />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t\t<tbody v-else>\n\t\t\t\t<tr v-for=\"item in list\" :key=\"item.mappingType + '-' + item.mappingId\">\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<Avatar :user=\"item.mappingId\" :is-no-user=\"item.mappingType !== 'user'\" :size=\"24\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-tooltip=\"getFullDisplayName(item.mappingDisplayName, item.mappingType)\" class=\"username\">\n\t\t\t\t\t\t{{ getFullDisplayName(item.mappingDisplayName, item.mappingType) }}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_READ, item.permissions, item.mask)\"\n\t\t\t\t\t\t\t:inherited=\"item.inherited\"\n\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t@update=\"changePermission(item, OC.PERMISSION_READ, $event)\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_UPDATE, item.permissions, item.mask)\"\n\t\t\t\t\t\t\t:inherited=\"item.inherited\"\n\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t@update=\"changePermission(item, OC.PERMISSION_UPDATE, $event)\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"model.type === 'dir'\" class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_CREATE, item.permissions, item.mask)\"\n\t\t\t\t\t\t\t:inherited=\"item.inherited\"\n\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t@update=\"changePermission(item, OC.PERMISSION_CREATE, $event)\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_DELETE, item.permissions, item.mask)\"\n\t\t\t\t\t\t\t:inherited=\"item.inherited\"\n\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t@update=\"changePermission(item, OC.PERMISSION_DELETE, $event)\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"state-column\">\n\t\t\t\t\t\t<AclStateButton :state=\"getState(OC.PERMISSION_SHARE, item.permissions, item.mask)\"\n\t\t\t\t\t\t\t:inherited=\"item.inherited\"\n\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t@update=\"changePermission(item, OC.PERMISSION_SHARE, $event)\" />\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"state-column\">\n\t\t\t\t\t\t<a v-if=\"item.inherited === false\"\n\t\t\t\t\t\t\tv-tooltip=\"t('groupfolders', 'Remove access rule')\"\n\t\t\t\t\t\t\tclass=\"icon-close\"\n\t\t\t\t\t\t\t@click=\"removeAcl(item)\" />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t\t<button v-if=\"isAdmin && !loading && !showAclCreate\" @click=\"toggleAclCreate\">\n\t\t\t<span class=\"icon-add\" /> {{\n\t\t\t\tt('groupfolders', 'Add advanced permission rule') }}\n\t\t</button>\n\t\t<Multiselect v-if=\"isAdmin && !loading\"\n\t\t\tv-show=\"showAclCreate\"\n\t\t\tref=\"select\"\n\t\t\tv-model=\"value\"\n\t\t\t:options=\"options\"\n\t\t\t:reset-after=\"true\"\n\t\t\t:loading=\"isSearching\"\n\t\t\t:internal-search=\"false\"\n\t\t\t:placeholder=\"t('groupfolders', 'Select a user or group')\"\n\t\t\ttrack-by=\"unique\"\n\t\t\t@select=\"createAcl\"\n\t\t\t@search-change=\"searchMappings\">\n\t\t\t<template slot=\"singleLabel\" slot-scope=\"props\">\n\t\t\t\t<Avatar :user=\"props.option.id\" :is-no-user=\"props.option.type !== 'user'\" />\n\t\t\t\t{{ getFullDisplayName(props.option.displayname, props.option.type) }}\n\t\t\t</template>\n\t\t\t<template slot=\"option\" slot-scope=\"props\">\n\t\t\t\t<Avatar :user=\"props.option.id\" :is-no-user=\"props.option.type !== 'user'\" />\n\t\t\t\t{{ getFullDisplayName(props.option.displayname, props.option.type) }}\n\t\t\t</template>\n\t\t</Multiselect>\n\t</div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport { Avatar, Multiselect, Tooltip } from '@nextcloud/vue'\nimport AclStateButton from './AclStateButton'\nimport Rule from './../model/Rule'\nimport BinaryTools from './../BinaryTools'\nimport client from './../client'\n\nlet searchRequestCancelSource = null\n\nexport default {\n\tname: 'SharingSidebarView',\n\tdirectives: {\n\t\ttooltip: Tooltip,\n\t},\n\tcomponents: {\n\t\tAvatar, Multiselect, AclStateButton,\n\t},\n\tprops: {\n\t\tfileInfo: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\taclEnabled: false,\n\t\t\taclCanManage: false,\n\t\t\tshowAclCreate: false,\n\t\t\tgroupFolderId: null,\n\t\t\tloading: false,\n\t\t\tisSearching: false,\n\t\t\toptions: [],\n\t\t\tvalue: null,\n\t\t\tmodel: null,\n\t\t\tlist: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\tisAdmin() {\n\t\t\treturn this.aclCanManage\n\t\t},\n\t\tisInherited() {\n\t\t\treturn (permission, permissions, mask) => {\n\t\t\t\treturn (permission & ~mask) === 0\n\t\t\t}\n\t\t},\n\t\tisAllowed() {\n\t\t\treturn (permission, permissions) => {\n\t\t\t\treturn (permission & permissions) > 0\n\t\t\t}\n\t\t},\n\t\tgetState() {\n\t\t\treturn (permission, permissions, mask) => {\n\t\t\t\tconst inheritance = this.isInherited(permission, permissions, mask) << 1\n\t\t\t\tconst permitted = this.isAllowed(permission, permissions)\n\t\t\t\treturn inheritance | permitted\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tfileInfo(/* newVal, oldVal */) {\n\t\t\t// reload ACL entries if file changes\n\t\t\tthis.loadAcls()\n\t\t},\n\t},\n\tbeforeMount() {\n\t\t// load ACL entries for initial file\n\t\tthis.loadAcls()\n\t},\n\tmethods: {\n\t\tloadAcls() {\n\t\t\tthis.options = []\n\t\t\tthis.loading = true\n\t\t\tthis.model = JSON.parse(JSON.stringify(this.fileInfo))\n\t\t\tclient.propFind(this.model).then((data) => {\n\t\t\t\tif (data.acls) {\n\t\t\t\t\tthis.list = data.acls\n\t\t\t\t}\n\t\t\t\tthis.inheritedAclsById = data.inheritedAclsById\n\t\t\t\tthis.aclEnabled = data.aclEnabled\n\t\t\t\tthis.aclCanManage = data.aclCanManage\n\t\t\t\tthis.groupFolderId = data.groupFolderId\n\t\t\t\tthis.loading = false\n\t\t\t\tthis.searchMappings('')\n\t\t\t})\n\t\t},\n\t\tgetFullDisplayName(displayName, type) {\n\t\t\tif (type === 'group') {\n\t\t\t\treturn `${displayName} (${t('groupfolders', 'Group')})`\n\t\t\t}\n\n\t\t\treturn displayName\n\t\t},\n\t\tsearchMappings(query) {\n\t\t\tif (searchRequestCancelSource) {\n\t\t\t\tsearchRequestCancelSource.cancel('Operation canceled by another search request.')\n\t\t\t}\n\t\t\tsearchRequestCancelSource = axios.CancelToken.source()\n\t\t\tthis.isSearching = true\n\t\t\taxios.get(generateUrl(`apps/groupfolders/folders/${this.groupFolderId}/search`) + '?format=json&search=' + query, {\n\t\t\t\tcancelToken: searchRequestCancelSource.token,\n\t\t\t}).then((result) => {\n\t\t\t\tthis.isSearching = false\n\t\t\t\tconst groups = Object.values(result.data.ocs.data.groups).map((group) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tunique: 'group:' + group.gid,\n\t\t\t\t\t\ttype: 'group',\n\t\t\t\t\t\tid: group.gid,\n\t\t\t\t\t\tdisplayname: group.displayname,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconst users = Object.values(result.data.ocs.data.users).map((user) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tunique: 'user:' + user.uid,\n\t\t\t\t\t\ttype: 'user',\n\t\t\t\t\t\tid: user.uid,\n\t\t\t\t\t\tdisplayname: user.displayname,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.options = [...groups, ...users].filter((entry) => {\n\t\t\t\t\t// filter out existing acl rules\n\t\t\t\t\treturn !this.list.find((existingAcl) => entry.unique === existingAcl.getUniqueMappingIdentifier())\n\t\t\t\t})\n\t\t\t}).catch((error) => {\n\t\t\t\tif (!axios.isCancel(error)) {\n\t\t\t\t\tconsole.error('Failed to l search results for groupfolder ACL')\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttoggleAclCreate() {\n\t\t\tthis.showAclCreate = !this.showAclCreate\n\t\t\tVue.nextTick(() => {\n\t\t\t\tthis.$refs.select.$el.focus()\n\t\t\t})\n\t\t},\n\t\tcreateAcl(option) {\n\t\t\tconst rule = new Rule()\n\t\t\trule.fromValues(option.type, option.id, option.displayname, 0b00000, 0b11111)\n\t\t\tthis.list.push(rule)\n\t\t\tclient.propPatch(this.model, this.list).then(() => {\n\t\t\t\tthis.showAclCreate = false\n\t\t\t})\n\t\t},\n\t\tremoveAcl(rule) {\n\t\t\tconst index = this.list.indexOf(rule)\n\t\t\tconst list = this.list.concat([]) // shallow clone\n\t\t\tif (index > -1) {\n\t\t\t\tlist.splice(index, 1)\n\t\t\t}\n\t\t\tclient.propPatch(this.model, list).then(() => {\n\t\t\t\tthis.list.splice(index, 1)\n\t\t\t\tconst inheritedAcl = this.inheritedAclsById[rule.getUniqueMappingIdentifier()]\n\t\t\t\tif (inheritedAcl != null) {\n\t\t\t\t\tthis.list.splice(index, 0, inheritedAcl)\n\t\t\t\t}\n\t\t\t})\n\n\t\t},\n\t\tchangePermission(item, permission, $event) {\n\t\t\tconst index = this.list.indexOf(item)\n\t\t\tconst inherit = ($event < 2)\n\t\t\tconst allow = ($event & (0b01)) === 1\n\t\t\tconst bit = BinaryTools.firstHigh(permission)\n\t\t\titem = item.clone()\n\t\t\tif (inherit) {\n\t\t\t\titem.mask = BinaryTools.clear(item.mask, bit)\n\t\t\t\t// TODO check if: we can ignore permissions, since they are inherited\n\t\t\t} else {\n\t\t\t\titem.mask = BinaryTools.set(item.mask, bit)\n\t\t\t\tif (allow) {\n\t\t\t\t\titem.permissions = BinaryTools.set(item.permissions, bit)\n\t\t\t\t} else {\n\t\t\t\t\titem.permissions = BinaryTools.clear(item.permissions, bit)\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.inherited = false\n\t\t\tVue.set(this.list, index, item)\n\t\t\tclient.propPatch(this.model, this.list).then(() => {\n\t\t\t\t// TODO block UI during save\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n\t#groupfolder-acl-container {\n\t\tmargin-bottom: 20px;\n\t}\n\n\t.groupfolder-entry {\n\t\theight: 44px;\n\t\twhite-space: normal;\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tposition: relative;\n\t}\n\n\t.avatar.icon-group-white {\n\t\tdisplay: inline-block;\n\t\tbackground-color: var(--color-primary, #0082c9);\n\t\tpadding: 16px;\n\t}\n\n\t.groupfolder-entry .username {\n\t\tpadding: 0 8px;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\ttable {\n\t\twidth: 100%;\n\t\tmargin-top: -44px;\n\t\tmargin-bottom: 5px;\n\t}\n\n\ttable td, table th {\n\t\tpadding: 0\n\t}\n\n\tthead th {\n\t\theight: 44px;\n\t}\n\n\tthead th:first-child,\n\ttbody tr td:first-child {\n\t\twidth: 24px;\n\t\tpadding: 0;\n\t\tpadding-left: 4px;\n\t}\n\n\ttable .avatardiv {\n\t\tmargin-top: 6px;\n\t}\n\n\ttable thead th:nth-child(2),\n\ttable .username {\n\t\tpadding-left: 13px;\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t\tmax-width: 0;\n\t\tmin-width: 50px;\n\t}\n\n\t.state-column {\n\t\ttext-align: center;\n\t\twidth: 44px !important;\n\t\tpadding: 3px;\n\t}\n\n\tthead .state-column {\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t}\n\n\ttable button {\n\t\theight: 26px;\n\t\twidth: 24px !important;\n\t\tdisplay: block;\n\t\tborder-radius: 50%;\n\t\tmargin: auto;\n\t}\n\n\ta.icon-close {\n\t\tdisplay: inline-block;\n\t\theight: 24px;\n\t\twidth: 100%;\n\t\tvertical-align: middle;\n\t\tbackground-size: 12px;\n\t\topacity: .7;\n\t\tfloat: right;\n\t}\n\n\ta.icon-close:hover {\n\t\topacity: 1;\n\t}\n\n\t.multiselect {\n\t\tmargin-left: 44px;\n\t\twidth: calc(100% - 44px);\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingSidebarView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingSidebarView.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingSidebarView.vue?vue&type=style&index=0&id=2f8e8ed6&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingSidebarView.vue?vue&type=style&index=0&id=2f8e8ed6&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingSidebarView.vue?vue&type=template&id=2f8e8ed6&scoped=true&\"\nimport script from \"./SharingSidebarView.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingSidebarView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingSidebarView.vue?vue&type=style&index=0&id=2f8e8ed6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f8e8ed6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.aclEnabled && !_vm.loading)?_c('div',{attrs:{\"id\":\"groupfolder-acl-container\"}},[_vm._m(0),_vm._v(\" \"),_c('table',[_c('thead',[_c('tr',[_c('th'),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.t('groupfolders', 'Group folder')))]),_vm._v(\" \"),_c('th',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Read')),expression:\"t('groupfolders', 'Read')\"}],staticClass:\"state-column\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('groupfolders', 'Read'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('th',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Write')),expression:\"t('groupfolders', 'Write')\"}],staticClass:\"state-column\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('groupfolders', 'Write'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.model.type === 'dir')?_c('th',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Create')),expression:\"t('groupfolders', 'Create')\"}],staticClass:\"state-column\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('groupfolders', 'Create'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('th',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Delete')),expression:\"t('groupfolders', 'Delete')\"}],staticClass:\"state-column\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('groupfolders', 'Delete'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('th',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Share')),expression:\"t('groupfolders', 'Share')\"}],staticClass:\"state-column\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('groupfolders', 'Share'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('th',{staticClass:\"state-column\"})])]),_vm._v(\" \"),(!_vm.isAdmin)?_c('tbody',[_c('tr',[_c('td',[_c('Avatar',{attrs:{\"user\":\"admin\",\"size\":24}})],1),_vm._v(\" \"),_c('td',{staticClass:\"username\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('groupfolders', 'You'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_READ, _vm.model.permissions, 1),\"read-only\":true}})],1),_vm._v(\" \"),_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_UPDATE, _vm.model.permissions, 1),\"read-only\":true}})],1),_vm._v(\" \"),(_vm.model.type === 'dir')?_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_CREATE, _vm.model.permissions, 1),\"read-only\":true}})],1):_vm._e(),_vm._v(\" \"),_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_DELETE, _vm.model.permissions, 1),\"read-only\":true}})],1),_vm._v(\" \"),_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_SHARE, _vm.model.permissions, 1),\"read-only\":true}})],1)])]):_c('tbody',_vm._l((_vm.list),function(item){return _c('tr',{key:item.mappingType + '-' + item.mappingId},[_c('td',[_c('Avatar',{attrs:{\"user\":item.mappingId,\"is-no-user\":item.mappingType !== 'user',\"size\":24}})],1),_vm._v(\" \"),_c('td',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.getFullDisplayName(item.mappingDisplayName, item.mappingType)),expression:\"getFullDisplayName(item.mappingDisplayName, item.mappingType)\"}],staticClass:\"username\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.getFullDisplayName(item.mappingDisplayName, item.mappingType))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_READ, item.permissions, item.mask),\"inherited\":item.inherited,\"disabled\":_vm.loading},on:{\"update\":function($event){return _vm.changePermission(item, _vm.OC.PERMISSION_READ, $event)}}})],1),_vm._v(\" \"),_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_UPDATE, item.permissions, item.mask),\"inherited\":item.inherited,\"disabled\":_vm.loading},on:{\"update\":function($event){return _vm.changePermission(item, _vm.OC.PERMISSION_UPDATE, $event)}}})],1),_vm._v(\" \"),(_vm.model.type === 'dir')?_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_CREATE, item.permissions, item.mask),\"inherited\":item.inherited,\"disabled\":_vm.loading},on:{\"update\":function($event){return _vm.changePermission(item, _vm.OC.PERMISSION_CREATE, $event)}}})],1):_vm._e(),_vm._v(\" \"),_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_DELETE, item.permissions, item.mask),\"inherited\":item.inherited,\"disabled\":_vm.loading},on:{\"update\":function($event){return _vm.changePermission(item, _vm.OC.PERMISSION_DELETE, $event)}}})],1),_vm._v(\" \"),_c('td',{staticClass:\"state-column\"},[_c('AclStateButton',{attrs:{\"state\":_vm.getState(_vm.OC.PERMISSION_SHARE, item.permissions, item.mask),\"inherited\":item.inherited,\"disabled\":_vm.loading},on:{\"update\":function($event){return _vm.changePermission(item, _vm.OC.PERMISSION_SHARE, $event)}}})],1),_vm._v(\" \"),_c('td',{staticClass:\"state-column\"},[(item.inherited === false)?_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('groupfolders', 'Remove access rule')),expression:\"t('groupfolders', 'Remove access rule')\"}],staticClass:\"icon-close\",on:{\"click\":function($event){return _vm.removeAcl(item)}}}):_vm._e()])])}),0)]),_vm._v(\" \"),(_vm.isAdmin && !_vm.loading && !_vm.showAclCreate)?_c('button',{on:{\"click\":_vm.toggleAclCreate}},[_c('span',{staticClass:\"icon-add\"}),_vm._v(\" \"+_vm._s(_vm.t('groupfolders', 'Add advanced permission rule'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.isAdmin && !_vm.loading)?_c('Multiselect',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAclCreate),expression:\"showAclCreate\"}],ref:\"select\",attrs:{\"options\":_vm.options,\"reset-after\":true,\"loading\":_vm.isSearching,\"internal-search\":false,\"placeholder\":_vm.t('groupfolders', 'Select a user or group'),\"track-by\":\"unique\"},on:{\"select\":_vm.createAcl,\"search-change\":_vm.searchMappings},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('Avatar',{attrs:{\"user\":props.option.id,\"is-no-user\":props.option.type !== 'user'}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.getFullDisplayName(props.option.displayname, props.option.type))+\"\\n\\t\\t\")]}},{key:\"option\",fn:function(props){return [_c('Avatar',{attrs:{\"user\":props.option.id,\"is-no-user\":props.option.type !== 'user'}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.getFullDisplayName(props.option.displayname, props.option.type))+\"\\n\\t\\t\")]}}],null,false,903703254),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"groupfolder-entry\"},[_c('div',{staticClass:\"avatar icon-group-white\"}),_vm._v(\" \"),_c('span',{staticClass:\"username\"})])}]\n\nexport { render, staticRenderFns }","/*\n * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n *  This program is free software: you can redistribute it and/or modify\n *  it under the terms of the GNU Affero General Public License as\n *  published by the Free Software Foundation, either version 3 of the\n *  License, or (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU Affero General Public License for more details.\n *\n *  You should have received a copy of the GNU Affero General Public License\n *  along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport SharingSidebarView from './components/SharingSidebarView.vue'\nimport { Tooltip } from '@nextcloud/vue'\nimport ClickOutside from 'vue-click-outside'\n\nVue.prototype.t = t\nVue.prototype.n = n\nVue.prototype.OC = OC\nVue.prototype.OCA = OCA\n\nVue.use(Tooltip)\nVue.directive('ClickOutside', ClickOutside)\n\nconst View = Vue.extend(SharingSidebarView)\n\nexport default View\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../img/deny.svg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.popovermenu[data-v-7e1f0cfc] {\\n\\ttop: 38px;\\n\\tright: -5px;\\n}\\nbutton[data-v-7e1f0cfc] {\\n\\theight: 24px;\\n\\tborder-color: transparent;\\n}\\nbutton[data-v-7e1f0cfc]:hover {\\n\\theight: 24px;\\n\\tborder-color: var(--color-primary, #0082c9);\\n}\\n.icon-deny[data-v-7e1f0cfc] {\\n\\tbackground-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n}\\n.inherited[data-v-7e1f0cfc] {\\n\\topacity: 0.5;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AclStateButton.vue\"],\"names\":[],\"mappings\":\";AAwIA;CACA,SAAA;CACA,WAAA;AACA;AAEA;CACA,YAAA;CACA,yBAAA;AACA;AAEA;CACA,YAAA;CACA,2CAAA;AACA;AAEA;CACA,yDAAA;AACA;AAEA;CACA,YAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\\n  -\\n  - @author Julius Härtl <jus@bitgrid.net>\\n  -\\n  - @license GNU AGPL version 3 or any later version\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n  -\\n  -->\\n<template>\\n\\t<div v-if=\\\"readOnly\\\">\\n\\t\\t<button v-if=\\\"!isAllowed\\\" v-tooltip=\\\"t('groupfolders', 'Denied')\\\" class=\\\"icon-deny\\\" />\\n\\t\\t<button v-else v-tooltip=\\\"t('groupfolders', 'Allowed')\\\" class=\\\"icon-checkmark\\\" />\\n\\t</div>\\n\\t<div v-else v-click-outside=\\\"popoverClose\\\" style=\\\"position: relative;\\\">\\n\\t\\t<button v-if=\\\"state === STATES.INHERIT_DENY\\\"\\n\\t\\t\\tv-tooltip=\\\"t('groupfolders', 'Denied (Inherited permission)')\\\"\\n\\t\\t\\t:disabled=\\\"disabled\\\"\\n\\t\\t\\tclass=\\\"icon-deny inherited\\\"\\n\\t\\t\\t@click=\\\"open = true\\\" />\\n\\t\\t<button v-else-if=\\\"state === STATES.INHERIT_ALLOW\\\"\\n\\t\\t\\tv-tooltip=\\\"t('groupfolders', 'Allowed (Inherited permission)')\\\"\\n\\t\\t\\t:disabled=\\\"disabled\\\"\\n\\t\\t\\tclass=\\\"icon-checkmark inherited\\\"\\n\\t\\t\\t@click=\\\"open = true\\\" />\\n\\t\\t<button v-else-if=\\\"state === STATES.SELF_DENY\\\"\\n\\t\\t\\tv-tooltip=\\\"t('groupfolders', 'Denied')\\\"\\n\\t\\t\\t:disabled=\\\"disabled\\\"\\n\\t\\t\\t:class=\\\"'icon-deny' + (inherited ? ' inherited' : '')\\\"\\n\\t\\t\\t@click=\\\"open = true\\\" />\\n\\t\\t<button v-else-if=\\\"state === STATES.SELF_ALLOW\\\"\\n\\t\\t\\tv-tooltip=\\\"t('groupfolders', 'Allowed')\\\"\\n\\t\\t\\t:disabled=\\\"disabled\\\"\\n\\t\\t\\t:class=\\\"'icon-checkmark' + (inherited ? ' inherited' : '')\\\"\\n\\t\\t\\t@click=\\\"open = true\\\" />\\n\\t\\t<div class=\\\"popovermenu\\\" :class=\\\"{open: open}\\\">\\n\\t\\t\\t<PopoverMenu :menu=\\\"menu\\\" />\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { PopoverMenu, Tooltip } from '@nextcloud/vue'\\n\\nconst STATES = {\\n\\tINHERIT_DENY: 0,\\n\\tINHERIT_ALLOW: 1,\\n\\tSELF_DENY: 2,\\n\\tSELF_ALLOW: 3,\\n}\\n\\nexport default {\\n\\tname: 'AclStateButton',\\n\\tdirectives: {\\n\\t\\ttooltip: Tooltip,\\n\\t},\\n\\tcomponents: { PopoverMenu },\\n\\tprops: {\\n\\t\\tinherited: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tstate: {\\n\\t\\t\\ttype: Number,\\n\\t\\t\\tdefault: STATES.INHERIT_DENY,\\n\\t\\t},\\n\\t\\treadOnly: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tdisabled: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tSTATES,\\n\\t\\t\\topen: false,\\n\\t\\t\\tmenu: [\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\ticon: 'icon-history',\\n\\t\\t\\t\\t\\ttext: t('groupfolders', 'Inherit permission'),\\n\\t\\t\\t\\t\\tactive: this.state === STATES.INHERIT_ALLOW || this.state === STATES.INHERIT_DENY,\\n\\t\\t\\t\\t\\taction: () => {\\n\\t\\t\\t\\t\\t\\tthis.$emit('update', STATES.INHERIT_ALLOW)\\n\\t\\t\\t\\t\\t\\tthis.popoverClose()\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\ticon: 'icon-close',\\n\\t\\t\\t\\t\\ttext: t('groupfolders', 'Deny'),\\n\\t\\t\\t\\t\\tactive: this.state === STATES.SELF_DENY,\\n\\t\\t\\t\\t\\taction: () => {\\n\\t\\t\\t\\t\\t\\tthis.$emit('update', STATES.SELF_DENY)\\n\\t\\t\\t\\t\\t\\tthis.popoverClose()\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\ticon: 'icon-history',\\n\\t\\t\\t\\t\\ttext: t('groupfolders', 'Allow'),\\n\\t\\t\\t\\t\\tactive: this.state === STATES.SELF_ALLOW,\\n\\t\\t\\t\\t\\taction: () => {\\n\\t\\t\\t\\t\\t\\tthis.$emit('update', STATES.SELF_ALLOW)\\n\\t\\t\\t\\t\\t\\tthis.popoverClose()\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t],\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tisAllowed() {\\n\\t\\t\\treturn this.state & 1\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tpopoverClose() {\\n\\t\\t\\tthis.open = false\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n\\t.popovermenu {\\n\\t\\ttop: 38px;\\n\\t\\tright: -5px;\\n\\t}\\n\\n\\tbutton {\\n\\t\\theight: 24px;\\n\\t\\tborder-color: transparent;\\n\\t}\\n\\n\\tbutton:hover {\\n\\t\\theight: 24px;\\n\\t\\tborder-color: var(--color-primary, #0082c9);\\n\\t}\\n\\n\\t.icon-deny {\\n\\t\\tbackground-image: url('../../img/deny.svg');\\n\\t}\\n\\n\\t.inherited {\\n\\t\\topacity: 0.5;\\n\\t}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n#groupfolder-acl-container[data-v-2f8e8ed6] {\\n\\tmargin-bottom: 20px;\\n}\\n.groupfolder-entry[data-v-2f8e8ed6] {\\n\\theight: 44px;\\n\\twhite-space: normal;\\n\\tdisplay: inline-flex;\\n\\talign-items: center;\\n\\tposition: relative;\\n}\\n.avatar.icon-group-white[data-v-2f8e8ed6] {\\n\\tdisplay: inline-block;\\n\\tbackground-color: var(--color-primary, #0082c9);\\n\\tpadding: 16px;\\n}\\n.groupfolder-entry .username[data-v-2f8e8ed6] {\\n\\tpadding: 0 8px;\\n\\toverflow: hidden;\\n\\twhite-space: nowrap;\\n\\ttext-overflow: ellipsis;\\n}\\ntable[data-v-2f8e8ed6] {\\n\\twidth: 100%;\\n\\tmargin-top: -44px;\\n\\tmargin-bottom: 5px;\\n}\\ntable td[data-v-2f8e8ed6], table th[data-v-2f8e8ed6] {\\n\\tpadding: 0\\n}\\nthead th[data-v-2f8e8ed6] {\\n\\theight: 44px;\\n}\\nthead th[data-v-2f8e8ed6]:first-child,\\ntbody tr td[data-v-2f8e8ed6]:first-child {\\n\\twidth: 24px;\\n\\tpadding: 0;\\n\\tpadding-left: 4px;\\n}\\ntable .avatardiv[data-v-2f8e8ed6] {\\n\\tmargin-top: 6px;\\n}\\ntable thead th[data-v-2f8e8ed6]:nth-child(2),\\ntable .username[data-v-2f8e8ed6] {\\n\\tpadding-left: 13px;\\n\\ttext-overflow: ellipsis;\\n\\toverflow: hidden;\\n\\tmax-width: 0;\\n\\tmin-width: 50px;\\n}\\n.state-column[data-v-2f8e8ed6] {\\n\\ttext-align: center;\\n\\twidth: 44px !important;\\n\\tpadding: 3px;\\n}\\nthead .state-column[data-v-2f8e8ed6] {\\n\\ttext-overflow: ellipsis;\\n\\toverflow: hidden;\\n}\\ntable button[data-v-2f8e8ed6] {\\n\\theight: 26px;\\n\\twidth: 24px !important;\\n\\tdisplay: block;\\n\\tborder-radius: 50%;\\n\\tmargin: auto;\\n}\\na.icon-close[data-v-2f8e8ed6] {\\n\\tdisplay: inline-block;\\n\\theight: 24px;\\n\\twidth: 100%;\\n\\tvertical-align: middle;\\n\\tbackground-size: 12px;\\n\\topacity: .7;\\n\\tfloat: right;\\n}\\na.icon-close[data-v-2f8e8ed6]:hover {\\n\\topacity: 1;\\n}\\n.multiselect[data-v-2f8e8ed6] {\\n\\tmargin-left: 44px;\\n\\twidth: calc(100% - 44px);\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SharingSidebarView.vue\"],\"names\":[],\"mappings\":\";AAoVA;CACA,mBAAA;AACA;AAEA;CACA,YAAA;CACA,mBAAA;CACA,oBAAA;CACA,mBAAA;CACA,kBAAA;AACA;AAEA;CACA,qBAAA;CACA,+CAAA;CACA,aAAA;AACA;AAEA;CACA,cAAA;CACA,gBAAA;CACA,mBAAA;CACA,uBAAA;AACA;AAEA;CACA,WAAA;CACA,iBAAA;CACA,kBAAA;AACA;AAEA;CACA;AACA;AAEA;CACA,YAAA;AACA;AAEA;;CAEA,WAAA;CACA,UAAA;CACA,iBAAA;AACA;AAEA;CACA,eAAA;AACA;AAEA;;CAEA,kBAAA;CACA,uBAAA;CACA,gBAAA;CACA,YAAA;CACA,eAAA;AACA;AAEA;CACA,kBAAA;CACA,sBAAA;CACA,YAAA;AACA;AAEA;CACA,uBAAA;CACA,gBAAA;AACA;AAEA;CACA,YAAA;CACA,sBAAA;CACA,cAAA;CACA,kBAAA;CACA,YAAA;AACA;AAEA;CACA,qBAAA;CACA,YAAA;CACA,WAAA;CACA,sBAAA;CACA,qBAAA;CACA,WAAA;CACA,YAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;CACA,iBAAA;CACA,wBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\\n  -\\n  - @author Julius Härtl <jus@bitgrid.net>\\n  -\\n  - @license GNU AGPL version 3 or any later version\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n  -\\n  -->\\n<template>\\n\\t<div v-if=\\\"aclEnabled && !loading\\\" id=\\\"groupfolder-acl-container\\\">\\n\\t\\t<div class=\\\"groupfolder-entry\\\">\\n\\t\\t\\t<div class=\\\"avatar icon-group-white\\\" />\\n\\t\\t\\t<span class=\\\"username\\\" />\\n\\t\\t</div>\\n\\t\\t<table>\\n\\t\\t\\t<thead>\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<th />\\n\\t\\t\\t\\t\\t<th>{{ t('groupfolders', 'Group folder') }}</th>\\n\\t\\t\\t\\t\\t<th v-tooltip=\\\"t('groupfolders', 'Read')\\\" class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('groupfolders', 'Read') }}\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th v-tooltip=\\\"t('groupfolders', 'Write')\\\" class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('groupfolders', 'Write') }}\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th v-if=\\\"model.type === 'dir'\\\" v-tooltip=\\\"t('groupfolders', 'Create')\\\" class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t{{\\n\\t\\t\\t\\t\\t\\t\\tt('groupfolders', 'Create') }}\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th v-tooltip=\\\"t('groupfolders', 'Delete')\\\" class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('groupfolders', 'Delete') }}\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th v-tooltip=\\\"t('groupfolders', 'Share')\\\" class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('groupfolders', 'Share') }}\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<th class=\\\"state-column\\\" />\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t</thead>\\n\\t\\t\\t<tbody v-if=\\\"!isAdmin\\\">\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t<Avatar user=\\\"admin\\\" :size=\\\"24\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"username\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('groupfolders', 'You') }}\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_READ, model.permissions, 1)\\\" :read-only=\\\"true\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_UPDATE, model.permissions, 1)\\\" :read-only=\\\"true\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td v-if=\\\"model.type === 'dir'\\\" class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_CREATE, model.permissions, 1)\\\" :read-only=\\\"true\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_DELETE, model.permissions, 1)\\\" :read-only=\\\"true\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_SHARE, model.permissions, 1)\\\" :read-only=\\\"true\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t</tbody>\\n\\t\\t\\t<tbody v-else>\\n\\t\\t\\t\\t<tr v-for=\\\"item in list\\\" :key=\\\"item.mappingType + '-' + item.mappingId\\\">\\n\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t<Avatar :user=\\\"item.mappingId\\\" :is-no-user=\\\"item.mappingType !== 'user'\\\" :size=\\\"24\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td v-tooltip=\\\"getFullDisplayName(item.mappingDisplayName, item.mappingType)\\\" class=\\\"username\\\">\\n\\t\\t\\t\\t\\t\\t{{ getFullDisplayName(item.mappingDisplayName, item.mappingType) }}\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_READ, item.permissions, item.mask)\\\"\\n\\t\\t\\t\\t\\t\\t\\t:inherited=\\\"item.inherited\\\"\\n\\t\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\t\\t@update=\\\"changePermission(item, OC.PERMISSION_READ, $event)\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_UPDATE, item.permissions, item.mask)\\\"\\n\\t\\t\\t\\t\\t\\t\\t:inherited=\\\"item.inherited\\\"\\n\\t\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\t\\t@update=\\\"changePermission(item, OC.PERMISSION_UPDATE, $event)\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td v-if=\\\"model.type === 'dir'\\\" class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_CREATE, item.permissions, item.mask)\\\"\\n\\t\\t\\t\\t\\t\\t\\t:inherited=\\\"item.inherited\\\"\\n\\t\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\t\\t@update=\\\"changePermission(item, OC.PERMISSION_CREATE, $event)\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_DELETE, item.permissions, item.mask)\\\"\\n\\t\\t\\t\\t\\t\\t\\t:inherited=\\\"item.inherited\\\"\\n\\t\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\t\\t@update=\\\"changePermission(item, OC.PERMISSION_DELETE, $event)\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<AclStateButton :state=\\\"getState(OC.PERMISSION_SHARE, item.permissions, item.mask)\\\"\\n\\t\\t\\t\\t\\t\\t\\t:inherited=\\\"item.inherited\\\"\\n\\t\\t\\t\\t\\t\\t\\t:disabled=\\\"loading\\\"\\n\\t\\t\\t\\t\\t\\t\\t@update=\\\"changePermission(item, OC.PERMISSION_SHARE, $event)\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t<td class=\\\"state-column\\\">\\n\\t\\t\\t\\t\\t\\t<a v-if=\\\"item.inherited === false\\\"\\n\\t\\t\\t\\t\\t\\t\\tv-tooltip=\\\"t('groupfolders', 'Remove access rule')\\\"\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"icon-close\\\"\\n\\t\\t\\t\\t\\t\\t\\t@click=\\\"removeAcl(item)\\\" />\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t</tbody>\\n\\t\\t</table>\\n\\t\\t<button v-if=\\\"isAdmin && !loading && !showAclCreate\\\" @click=\\\"toggleAclCreate\\\">\\n\\t\\t\\t<span class=\\\"icon-add\\\" /> {{\\n\\t\\t\\t\\tt('groupfolders', 'Add advanced permission rule') }}\\n\\t\\t</button>\\n\\t\\t<Multiselect v-if=\\\"isAdmin && !loading\\\"\\n\\t\\t\\tv-show=\\\"showAclCreate\\\"\\n\\t\\t\\tref=\\\"select\\\"\\n\\t\\t\\tv-model=\\\"value\\\"\\n\\t\\t\\t:options=\\\"options\\\"\\n\\t\\t\\t:reset-after=\\\"true\\\"\\n\\t\\t\\t:loading=\\\"isSearching\\\"\\n\\t\\t\\t:internal-search=\\\"false\\\"\\n\\t\\t\\t:placeholder=\\\"t('groupfolders', 'Select a user or group')\\\"\\n\\t\\t\\ttrack-by=\\\"unique\\\"\\n\\t\\t\\t@select=\\\"createAcl\\\"\\n\\t\\t\\t@search-change=\\\"searchMappings\\\">\\n\\t\\t\\t<template slot=\\\"singleLabel\\\" slot-scope=\\\"props\\\">\\n\\t\\t\\t\\t<Avatar :user=\\\"props.option.id\\\" :is-no-user=\\\"props.option.type !== 'user'\\\" />\\n\\t\\t\\t\\t{{ getFullDisplayName(props.option.displayname, props.option.type) }}\\n\\t\\t\\t</template>\\n\\t\\t\\t<template slot=\\\"option\\\" slot-scope=\\\"props\\\">\\n\\t\\t\\t\\t<Avatar :user=\\\"props.option.id\\\" :is-no-user=\\\"props.option.type !== 'user'\\\" />\\n\\t\\t\\t\\t{{ getFullDisplayName(props.option.displayname, props.option.type) }}\\n\\t\\t\\t</template>\\n\\t\\t</Multiselect>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport Vue from 'vue'\\nimport axios from '@nextcloud/axios'\\nimport { generateUrl } from '@nextcloud/router'\\nimport { Avatar, Multiselect, Tooltip } from '@nextcloud/vue'\\nimport AclStateButton from './AclStateButton'\\nimport Rule from './../model/Rule'\\nimport BinaryTools from './../BinaryTools'\\nimport client from './../client'\\n\\nlet searchRequestCancelSource = null\\n\\nexport default {\\n\\tname: 'SharingSidebarView',\\n\\tdirectives: {\\n\\t\\ttooltip: Tooltip,\\n\\t},\\n\\tcomponents: {\\n\\t\\tAvatar, Multiselect, AclStateButton,\\n\\t},\\n\\tprops: {\\n\\t\\tfileInfo: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\taclEnabled: false,\\n\\t\\t\\taclCanManage: false,\\n\\t\\t\\tshowAclCreate: false,\\n\\t\\t\\tgroupFolderId: null,\\n\\t\\t\\tloading: false,\\n\\t\\t\\tisSearching: false,\\n\\t\\t\\toptions: [],\\n\\t\\t\\tvalue: null,\\n\\t\\t\\tmodel: null,\\n\\t\\t\\tlist: [],\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tisAdmin() {\\n\\t\\t\\treturn this.aclCanManage\\n\\t\\t},\\n\\t\\tisInherited() {\\n\\t\\t\\treturn (permission, permissions, mask) => {\\n\\t\\t\\t\\treturn (permission & ~mask) === 0\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tisAllowed() {\\n\\t\\t\\treturn (permission, permissions) => {\\n\\t\\t\\t\\treturn (permission & permissions) > 0\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tgetState() {\\n\\t\\t\\treturn (permission, permissions, mask) => {\\n\\t\\t\\t\\tconst inheritance = this.isInherited(permission, permissions, mask) << 1\\n\\t\\t\\t\\tconst permitted = this.isAllowed(permission, permissions)\\n\\t\\t\\t\\treturn inheritance | permitted\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n\\twatch: {\\n\\t\\tfileInfo(/* newVal, oldVal */) {\\n\\t\\t\\t// reload ACL entries if file changes\\n\\t\\t\\tthis.loadAcls()\\n\\t\\t},\\n\\t},\\n\\tbeforeMount() {\\n\\t\\t// load ACL entries for initial file\\n\\t\\tthis.loadAcls()\\n\\t},\\n\\tmethods: {\\n\\t\\tloadAcls() {\\n\\t\\t\\tthis.options = []\\n\\t\\t\\tthis.loading = true\\n\\t\\t\\tthis.model = JSON.parse(JSON.stringify(this.fileInfo))\\n\\t\\t\\tclient.propFind(this.model).then((data) => {\\n\\t\\t\\t\\tif (data.acls) {\\n\\t\\t\\t\\t\\tthis.list = data.acls\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis.inheritedAclsById = data.inheritedAclsById\\n\\t\\t\\t\\tthis.aclEnabled = data.aclEnabled\\n\\t\\t\\t\\tthis.aclCanManage = data.aclCanManage\\n\\t\\t\\t\\tthis.groupFolderId = data.groupFolderId\\n\\t\\t\\t\\tthis.loading = false\\n\\t\\t\\t\\tthis.searchMappings('')\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tgetFullDisplayName(displayName, type) {\\n\\t\\t\\tif (type === 'group') {\\n\\t\\t\\t\\treturn `${displayName} (${t('groupfolders', 'Group')})`\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn displayName\\n\\t\\t},\\n\\t\\tsearchMappings(query) {\\n\\t\\t\\tif (searchRequestCancelSource) {\\n\\t\\t\\t\\tsearchRequestCancelSource.cancel('Operation canceled by another search request.')\\n\\t\\t\\t}\\n\\t\\t\\tsearchRequestCancelSource = axios.CancelToken.source()\\n\\t\\t\\tthis.isSearching = true\\n\\t\\t\\taxios.get(generateUrl(`apps/groupfolders/folders/${this.groupFolderId}/search`) + '?format=json&search=' + query, {\\n\\t\\t\\t\\tcancelToken: searchRequestCancelSource.token,\\n\\t\\t\\t}).then((result) => {\\n\\t\\t\\t\\tthis.isSearching = false\\n\\t\\t\\t\\tconst groups = Object.values(result.data.ocs.data.groups).map((group) => {\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tunique: 'group:' + group.gid,\\n\\t\\t\\t\\t\\t\\ttype: 'group',\\n\\t\\t\\t\\t\\t\\tid: group.gid,\\n\\t\\t\\t\\t\\t\\tdisplayname: group.displayname,\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\tconst users = Object.values(result.data.ocs.data.users).map((user) => {\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tunique: 'user:' + user.uid,\\n\\t\\t\\t\\t\\t\\ttype: 'user',\\n\\t\\t\\t\\t\\t\\tid: user.uid,\\n\\t\\t\\t\\t\\t\\tdisplayname: user.displayname,\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\tthis.options = [...groups, ...users].filter((entry) => {\\n\\t\\t\\t\\t\\t// filter out existing acl rules\\n\\t\\t\\t\\t\\treturn !this.list.find((existingAcl) => entry.unique === existingAcl.getUniqueMappingIdentifier())\\n\\t\\t\\t\\t})\\n\\t\\t\\t}).catch((error) => {\\n\\t\\t\\t\\tif (!axios.isCancel(error)) {\\n\\t\\t\\t\\t\\tconsole.error('Failed to l search results for groupfolder ACL')\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\ttoggleAclCreate() {\\n\\t\\t\\tthis.showAclCreate = !this.showAclCreate\\n\\t\\t\\tVue.nextTick(() => {\\n\\t\\t\\t\\tthis.$refs.select.$el.focus()\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tcreateAcl(option) {\\n\\t\\t\\tconst rule = new Rule()\\n\\t\\t\\trule.fromValues(option.type, option.id, option.displayname, 0b00000, 0b11111)\\n\\t\\t\\tthis.list.push(rule)\\n\\t\\t\\tclient.propPatch(this.model, this.list).then(() => {\\n\\t\\t\\t\\tthis.showAclCreate = false\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tremoveAcl(rule) {\\n\\t\\t\\tconst index = this.list.indexOf(rule)\\n\\t\\t\\tconst list = this.list.concat([]) // shallow clone\\n\\t\\t\\tif (index > -1) {\\n\\t\\t\\t\\tlist.splice(index, 1)\\n\\t\\t\\t}\\n\\t\\t\\tclient.propPatch(this.model, list).then(() => {\\n\\t\\t\\t\\tthis.list.splice(index, 1)\\n\\t\\t\\t\\tconst inheritedAcl = this.inheritedAclsById[rule.getUniqueMappingIdentifier()]\\n\\t\\t\\t\\tif (inheritedAcl != null) {\\n\\t\\t\\t\\t\\tthis.list.splice(index, 0, inheritedAcl)\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\n\\t\\t},\\n\\t\\tchangePermission(item, permission, $event) {\\n\\t\\t\\tconst index = this.list.indexOf(item)\\n\\t\\t\\tconst inherit = ($event < 2)\\n\\t\\t\\tconst allow = ($event & (0b01)) === 1\\n\\t\\t\\tconst bit = BinaryTools.firstHigh(permission)\\n\\t\\t\\titem = item.clone()\\n\\t\\t\\tif (inherit) {\\n\\t\\t\\t\\titem.mask = BinaryTools.clear(item.mask, bit)\\n\\t\\t\\t\\t// TODO check if: we can ignore permissions, since they are inherited\\n\\t\\t\\t} else {\\n\\t\\t\\t\\titem.mask = BinaryTools.set(item.mask, bit)\\n\\t\\t\\t\\tif (allow) {\\n\\t\\t\\t\\t\\titem.permissions = BinaryTools.set(item.permissions, bit)\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\titem.permissions = BinaryTools.clear(item.permissions, bit)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\titem.inherited = false\\n\\t\\t\\tVue.set(this.list, index, item)\\n\\t\\t\\tclient.propPatch(this.model, this.list).then(() => {\\n\\t\\t\\t\\t// TODO block UI during save\\n\\t\\t\\t})\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n\\t#groupfolder-acl-container {\\n\\t\\tmargin-bottom: 20px;\\n\\t}\\n\\n\\t.groupfolder-entry {\\n\\t\\theight: 44px;\\n\\t\\twhite-space: normal;\\n\\t\\tdisplay: inline-flex;\\n\\t\\talign-items: center;\\n\\t\\tposition: relative;\\n\\t}\\n\\n\\t.avatar.icon-group-white {\\n\\t\\tdisplay: inline-block;\\n\\t\\tbackground-color: var(--color-primary, #0082c9);\\n\\t\\tpadding: 16px;\\n\\t}\\n\\n\\t.groupfolder-entry .username {\\n\\t\\tpadding: 0 8px;\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n\\n\\ttable {\\n\\t\\twidth: 100%;\\n\\t\\tmargin-top: -44px;\\n\\t\\tmargin-bottom: 5px;\\n\\t}\\n\\n\\ttable td, table th {\\n\\t\\tpadding: 0\\n\\t}\\n\\n\\tthead th {\\n\\t\\theight: 44px;\\n\\t}\\n\\n\\tthead th:first-child,\\n\\ttbody tr td:first-child {\\n\\t\\twidth: 24px;\\n\\t\\tpadding: 0;\\n\\t\\tpadding-left: 4px;\\n\\t}\\n\\n\\ttable .avatardiv {\\n\\t\\tmargin-top: 6px;\\n\\t}\\n\\n\\ttable thead th:nth-child(2),\\n\\ttable .username {\\n\\t\\tpadding-left: 13px;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\toverflow: hidden;\\n\\t\\tmax-width: 0;\\n\\t\\tmin-width: 50px;\\n\\t}\\n\\n\\t.state-column {\\n\\t\\ttext-align: center;\\n\\t\\twidth: 44px !important;\\n\\t\\tpadding: 3px;\\n\\t}\\n\\n\\tthead .state-column {\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\toverflow: hidden;\\n\\t}\\n\\n\\ttable button {\\n\\t\\theight: 26px;\\n\\t\\twidth: 24px !important;\\n\\t\\tdisplay: block;\\n\\t\\tborder-radius: 50%;\\n\\t\\tmargin: auto;\\n\\t}\\n\\n\\ta.icon-close {\\n\\t\\tdisplay: inline-block;\\n\\t\\theight: 24px;\\n\\t\\twidth: 100%;\\n\\t\\tvertical-align: middle;\\n\\t\\tbackground-size: 12px;\\n\\t\\topacity: .7;\\n\\t\\tfloat: right;\\n\\t}\\n\\n\\ta.icon-close:hover {\\n\\t\\topacity: 1;\\n\\t}\\n\\n\\t.multiselect {\\n\\t\\tmargin-left: 44px;\\n\\t\\twidth: calc(100% - 44px);\\n\\t}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","_vm","this","_h","$createElement","_c","_self","isAllowed","directives","name","rawName","value","t","expression","staticClass","staticStyle","state","STATES","INHERIT_DENY","attrs","disabled","on","$event","open","INHERIT_ALLOW","SELF_DENY","class","inherited","SELF_ALLOW","_e","_v","menu","toString","num","padStart","firstHigh","position","test","bit","set","clear","toggle","aclEnabled","loading","_m","_s","model","type","isAdmin","_l","item","key","mappingType","mappingId","getFullDisplayName","mappingDisplayName","getState","OC","PERMISSION_READ","permissions","mask","changePermission","PERMISSION_UPDATE","PERMISSION_CREATE","PERMISSION_DELETE","PERMISSION_SHARE","removeAcl","showAclCreate","toggleAclCreate","ref","isSearching","createAcl","searchMappings","scopedSlots","_u","fn","props","option","id","displayname","callback","$$v","Vue","n","OCA","Tooltip","ClickOutside","SharingSidebarView","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","push","module"],"sourceRoot":""}