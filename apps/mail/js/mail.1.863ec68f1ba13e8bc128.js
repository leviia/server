(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1032:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(531),o=e.n(r),a=e(1106),i=e.n(a),s=function(t){var n=o()(t),e=i.a.hex.hsl(n),r=[40*Math.round(e[0]/40),e[1],e[2]];return"#"+i.a.hsl.hex(r)}},1109:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(31),o=function(t){if(t.specialUse.length>0)try{return function(t){if(t.specialUse.includes("all"))return Object(r.translate)("mail","All");if(t.specialUse.includes("archive"))return Object(r.translate)("mail","Archive");if(t.specialUse.includes("drafts"))return Object(r.translate)("mail","Drafts");if(t.specialUse.includes("flagged"))return Object(r.translate)("mail","Favorites");if(t.specialUse.includes("inbox"))return t.isPriorityInbox?Object(r.translate)("mail","Priority inbox"):t.isUnified?Object(r.translate)("mail","All inboxes"):Object(r.translate)("mail","Inbox");if(t.specialUse.includes("junk"))return Object(r.translate)("mail","Junk");if(t.specialUse.includes("sent"))return Object(r.translate)("mail","Sent");if(t.specialUse.includes("trash"))return Object(r.translate)("mail","Trash");throw new Error("unknown special use ".concat(t.specialUse))}(t)}catch(t){console.error("could not translate special mailbox",t)}return t.displayName}},1127:function(t,n,e){"use strict";e.d(n,"b",(function(){return u})),e.d(n,"a",(function(){return p}));var r=e(2),o=e(3),a=e.n(o);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{l({},"")}catch(t){l=function(t,n,e){return t[n]=e}}function u(t,n,e,r){var o=n&&n.prototype instanceof f?n:f,a=Object.create(o.prototype),i=new S(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return E()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=w(i,e);if(s){if(s===p)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=d(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function d(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var p={};function f(){}function h(){}function m(){}var v={};l(v,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(k([])));y&&y!==n&&e.call(y,o)&&(v=y);var b=m.prototype=f.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(n){l(t,n,(function(t){return this._invoke(n,t)}))}))}function x(t,n){var r;this._invoke=function(o,a){function s(){return new n((function(r,s){!function r(o,a,s,c){var l=d(t[o],t,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==i(p)&&e.call(p,"__await")?n.resolve(p.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):n.resolve(p).then((function(t){u.value=t,s(u)}),(function(t){return r("throw",t,s,c)}))}c(l.arg)}(o,a,r,s)}))}return r=r?r.then(s,s):s()}}function w(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,w(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=d(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function _(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=m,l(b,"constructor",m),l(m,"constructor",h),h.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===h||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new x(u(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},A(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),p},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),_(e),p}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;_(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:k(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),p}},t}function c(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){c(a,r,o,i,s,"next",t)}function s(t){c(a,r,o,i,s,"throw",t)}i(void 0)}))}}function u(t,n,e){return d.apply(this,arguments)}function d(){return(d=l(s().mark((function t(n,e,o){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(r.generateUrl)("/apps/mail/api/trustedsenders/{email}?type={type}",{email:n,type:e}),!o){t.next=6;break}return t.next=4,a.a.put(i);case 4:t.next=8;break;case 6:return t.next=8,a.a.delete(i);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=l(s().mark((function t(){var n,e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(r.generateUrl)("/apps/mail/api/trustedsenders"),t.next=3,a.a.get(n);case 3:return e=t.sent,t.abrupt("return",e.data.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},1232:function(n,e,r){"use strict";var o=r(1442),a=r.n(o),i=r(1443),s=r.n(i),c=r(1444),l=r.n(c),u=r(1445),d=r.n(u),p=r(9),f=r(1017),h=r.n(f),m=r(1446),v=r.n(m),g=r(911),y=r.n(g),b=r(1041),A=r.n(b),x=r(993),w=r.n(x),C=r(1033),_=r.n(C),S=r(1040),k=r(2),E=r(1032),L=r(116),O=r(1237),P={name:"EditorSettings",props:{account:{type:Object,required:!0}},data:function(){return{mode:this.account.editorMode}},watch:{mode:function(t,n){var e=this;this.$store.dispatch("patchAccount",{account:this.account,data:{editorMode:t}}).then((function(){p.a.info("editor mode updated")})).catch((function(t){throw p.a.error("could not update editor mode",{error:t}),e.editorMode=n,t}))}}},j=r(39),M=r.n(j),I=r(1450),N={insert:"head",singleton:!1},T=(M()(I.a,N),I.a.locals,r(29)),B=Object(T.a)(P,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"radio",attrs:{id:"plaintext",type:"radio",value:"plaintext"},domProps:{checked:t._q(t.mode,"plaintext")},on:{change:function(n){t.mode="plaintext"}}}),t._v(" "),e("label",{class:{primary:"plaintext"===t.mode},attrs:{for:"plaintext"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Plain text"))+"\n\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"radio",attrs:{id:"richtext",type:"radio",value:"richtext"},domProps:{checked:t._q(t.mode,"richtext")},on:{change:function(n){t.mode="richtext"}}}),t._v(" "),e("label",{class:{primary:"richtext"===t.mode},attrs:{for:"richtext"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Rich text"))+"\n\t\t")])])])}),[],!1,null,"7db23f84",null).exports,F=r(1451),D=r.n(F),G=(r(1465),{name:"MailboxInlinePicker",components:{Treeselect:D.a},props:{account:{type:Object,required:!0},disabled:{type:Boolean,default:!1},value:{type:Number,required:!1}},data:function(){return{selected:this.value}},computed:{mailboxes:function(){return this.getMailboxes()}},watch:{selected:function(t){t!==this.value&&(this.$emit("input",t),this.selected=t)}},methods:{getMailboxes:function(t){var n=this;return(t?this.$store.getters.getSubMailboxes(t):this.$store.getters.getMailboxes(this.account.accountId)).map((function(t){return{id:t.databaseId,label:t.displayName,children:t.mailboxes.length>0?n.getMailboxes(t.databaseId):""}}))}}}),$=r(1467),q={insert:"head",singleton:!1};M()($.a,q),$.a.locals;function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */R=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==U(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function H(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function Y(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){H(a,r,o,i,s,"next",t)}function s(t){H(a,r,o,i,s,"throw",t)}i(void 0)}))}}var z={name:"AccountDefaultsSettings",components:{MailboxInlinePicker:Object(T.a)(G,(function(){var t=this,n=t.$createElement;return(t._self._c||n)("Treeselect",{ref:"Treeselect",attrs:{options:t.mailboxes,multiple:!1,clearable:!1,disabled:t.disabled},model:{value:t.selected,callback:function(n){t.selected=n},expression:"selected"}})}),[],!1,null,null,null).exports},props:{account:{type:Object,required:!0}},data:function(){return{saving:!1}},computed:{draftsMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.draftsMailboxId);if(t)return t.databaseId},set:function(t){var n=this;return Y(R().mark((function e(){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.a.debug("setting drafts mailbox to "+t),n.saving=!0,e.prev=2,e.next=5,n.$store.dispatch("patchAccount",{account:n.account,data:{draftsMailboxId:t}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),p.a.error("could not set drafts mailbox",{error:e.t0});case 10:return e.prev=10,n.saving=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})))()}},sentMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.sentMailboxId);if(t)return t.databaseId},set:function(t){var n=this;return Y(R().mark((function e(){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.a.debug("setting sent mailbox to "+t),n.saving=!0,e.prev=2,e.next=5,n.$store.dispatch("patchAccount",{account:n.account,data:{sentMailboxId:t}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),p.a.error("could not set sent mailbox",{error:e.t0});case 10:return e.prev=10,n.saving=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})))()}},trashMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.trashMailboxId);if(t)return t.databaseId},set:function(t){var n=this;return Y(R().mark((function e(){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.a.debug("setting trash mailbox to "+t),n.saving=!0,e.prev=2,e.next=5,n.$store.dispatch("patchAccount",{account:n.account,data:{trashMailboxId:t}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),p.a.error("could not set trash mailbox",{error:e.t0});case 10:return e.prev=10,n.saving=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})))()}}}},V=r(1468),Q={insert:"head",singleton:!1},W=(M()(V.a,Q),V.a.locals,Object(T.a)(z,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",[t._v("\n\t\t"+t._s(t.t("mail","Drafts are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.draftsMailbox,callback:function(n){t.draftsMailbox=n},expression:"draftsMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Sent messages are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.sentMailbox,callback:function(n){t.sentMailbox=n},expression:"sentMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Deleted messages are moved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.trashMailbox,callback:function(n){t.trashMailbox=n},expression:"trashMailbox"}})],1)}),[],!1,null,"3a6599f7",null).exports),K=r(1235),J=r(45),Z=r(6),X=r(994),tt=r.n(X);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */et=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==nt(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function rt(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function ot(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){rt(a,r,o,i,s,"next",t)}function s(t){rt(a,r,o,i,s,"throw",t)}i(void 0)}))}}var at={name:"SignatureSettings",components:{TextEditor:K.a,Multiselect:tt.a},props:{account:{type:Object,required:!0}},data:function(){return{loading:!1,bus:new Z.default,identity:null,signature:"",signatureAboveQuote:this.account.signatureAboveQuote}},computed:{identities:function(){var t=this.account.aliases.map((function(t){return{id:t.id,label:t.name+" ("+t.alias+")",signature:t.signature}}));return t.unshift({id:-1,label:this.account.name+" ("+this.account.emailAddress+")",signature:this.account.signature}),t}},watch:{signatureAboveQuote:function(t,n){var e=this;return ot(et().mark((function r(){return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch("patchAccount",{account:e.account,data:{signatureAboveQuote:t}});case 3:p.a.debug("signature above quoted updated to "+t),r.next=10;break;case 6:r.prev=6,r.t0=r.catch(0),p.a.error("could not update signature above quote",{e:r.t0}),e.signatureAboveQuote=n;case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()}},beforeMount:function(){this.changeIdentity(this.identities[0])},methods:{changeIdentity:function(t){p.a.debug("select identity",{identity:t}),this.identity=t,this.signature=t.signature?Object(J.d)(Object(J.a)(t.signature)).value:""},deleteSignature:function(){var t=this;return ot(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.signature=null,n.next=3,t.saveSignature();case 3:case"end":return n.stop()}}),n)})))()},saveSignature:function(){var t=this;return ot(et().mark((function n(){var e,r;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,e="updateAccountSignature",r={account:t.account,signature:t.signature},t.identity.id>-1&&(e="updateAliasSignature",r.aliasId=t.identity.id),n.abrupt("return",t.$store.dispatch(e,r).then((function(){p.a.info("signature updated"),t.loading=!1})).catch((function(t){throw p.a.error("could not update account signature",{error:t}),t})));case 5:case"end":return n.stop()}}),n)})))()}}},it=r(1469),st={insert:"head",singleton:!1},ct=(M()(it.a,st),it.a.locals,r(1470)),lt={insert:"head",singleton:!1},ut=(M()(ct.a,lt),ct.a.locals,Object(T.a)(at,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"section"},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.signatureAboveQuote,expression:"signatureAboveQuote"}],staticClass:"checkbox",attrs:{id:"signature-above-quote-toggle",type:"checkbox"},domProps:{checked:Array.isArray(t.signatureAboveQuote)?t._i(t.signatureAboveQuote,null)>-1:t.signatureAboveQuote},on:{change:function(n){var e=t.signatureAboveQuote,r=n.target,o=!!r.checked;if(Array.isArray(e)){var a=t._i(e,null);r.checked?a<0&&(t.signatureAboveQuote=e.concat([null])):a>-1&&(t.signatureAboveQuote=e.slice(0,a).concat(e.slice(a+1)))}else t.signatureAboveQuote=o}}}),t._v(" "),e("label",{attrs:{for:"signature-above-quote-toggle"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Place signature above quoted text"))+"\n\t\t")])]),t._v(" "),t.identities.length>1?e("Multiselect",{attrs:{"allow-empty":!1,options:t.identities,searchable:!1,value:t.identity,label:"label","track-by":"id"},on:{select:t.changeIdentity}}):t._e(),t._v(" "),e("TextEditor",{attrs:{html:!0,placeholder:t.t("mail","Signature …"),bus:t.bus},model:{value:t.signature,callback:function(n){t.signature=n},expression:"signature"}}),t._v(" "),e("button",{staticClass:"primary",class:t.loading?"icon-loading-small-dark":"icon-checkmark-white",attrs:{disabled:t.loading},on:{click:t.saveSignature}},[t._v("\n\t\t"+t._s(t.t("mail","Save signature"))+"\n\t")]),t._v(" "),t.signature?e("button",{staticClass:"button-text",on:{click:t.deleteSignature}},[t._v("\n\t\t"+t._s(t.t("mail","Delete"))+"\n\t")]):t._e()],1)}),[],!1,null,"1c55c63e",null).exports);function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pt=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==dt(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function ft(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function ht(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){ft(a,r,o,i,s,"next",t)}function s(t){ft(a,r,o,i,s,"throw",t)}i(void 0)}))}}var mt={name:"AliasForm",props:{account:{type:Object,required:!0},alias:{type:Object,required:!0}},data:function(){return{changeAlias:this.alias.alias,changeName:this.alias.name,showForm:!1,loading:!1}},methods:{updateAlias:function(t){var n=this;return ht(pt().mark((function t(){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.loading=!0,t.next=3,n.$store.dispatch("updateAlias",{account:n.account,aliasId:n.alias.id,alias:n.changeAlias,name:n.changeName});case 3:p.a.debug("updated alias",{accountId:n.account.id,aliasId:n.alias.id,alias:n.changeAlias,name:n.changeName}),n.showForm=!1,n.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},deleteAlias:function(){var t=this;return ht(pt().mark((function n(){return pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,t.$store.dispatch("deleteAlias",{account:t.account,aliasId:t.alias.id});case 3:p.a.debug("deleted alias",{accountId:t.account.id,aliasId:t.alias.id,alias:t.alias.alias,name:t.alias.name}),t.showForm=!1,t.loading=!1;case 6:case"end":return n.stop()}}),n)})))()}}},vt=r(1471),gt={insert:"head",singleton:!1};M()(vt.a,gt),vt.a.locals;function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bt=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==yt(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function At(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}var xt={name:"AliasSettings",components:{AliasForm:Object(T.a)(mt,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.showForm?e("form",{staticClass:"alias-form",on:{submit:function(n){return n.preventDefault(),t.updateAlias.apply(null,arguments)}}},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.changeName,expression:"changeName"}],attrs:{type:"text",required:""},domProps:{value:t.changeName},on:{input:function(n){n.target.composing||(t.changeName=n.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.changeAlias,expression:"changeAlias"}],attrs:{type:"email",disabled:t.alias.provisioned,required:""},domProps:{value:t.changeAlias},on:{input:function(n){n.target.composing||(t.changeAlias=n.target.value)}}})]),t._v(" "),e("div",{staticClass:"button-group"},[e("button",{staticClass:"icon",class:t.loading?"icon-loading-small-dark":"icon-checkmark",attrs:{type:"submit",title:t.t("mail","Update alias")}})])]):e("div",{staticClass:"alias-item"},[e("p",[e("strong",[t._v(t._s(t.alias.name))]),t._v(" <"+t._s(t.alias.alias)+">")]),t._v(" "),e("div",{staticClass:"button-group"},[e("button",{staticClass:"icon icon-rename",attrs:{title:t.t("mail","Show update alias form")},on:{click:function(n){t.showForm=!0}}}),t._v(" "),t.alias.provisioned?t._e():e("button",{staticClass:"icon",class:t.loading?"icon-loading-small-dark":"icon-delete",attrs:{title:t.t("mail","Delete alias")},on:{click:t.deleteAlias}})])])])}),[],!1,null,"2c30c231",null).exports},props:{account:{type:Object,required:!0}},data:function(){return{newAlias:"",newName:this.account.name,showForm:!1,loading:!1}},computed:{aliases:function(){return this.account.aliases}},methods:{createAlias:function(){var t,n=this;return(t=bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.loading=!0,t.next=3,n.$store.dispatch("createAlias",{account:n.account,alias:n.newAlias,name:n.newName});case 3:p.a.debug("created alias",{accountId:n.account.id,alias:n.newAlias,name:n.newName}),n.resetCreate(),n.loading=!1;case 6:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){At(a,r,o,i,s,"next",t)}function s(t){At(a,r,o,i,s,"throw",t)}i(void 0)}))})()},resetCreate:function(){this.newAlias="",this.newName=this.account.name,this.showForm=!1}}},wt=r(1472),Ct={insert:"head",singleton:!1},_t=(M()(wt.a,Ct),wt.a.locals,Object(T.a)(xt,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("ul",{staticClass:"aliases-list"},[t._l(t.aliases,(function(n){return e("li",{key:n.id},[e("AliasForm",{attrs:{account:t.account,alias:n}})],1)})),t._v(" "),t.showForm?e("li",[e("form",{attrs:{id:"createAliasForm"},on:{submit:function(n){return n.preventDefault(),t.createAlias.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],attrs:{type:"text",placeholder:t.t("mail","Name"),required:""},domProps:{value:t.newName},on:{input:function(n){n.target.composing||(t.newName=n.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newAlias,expression:"newAlias"}],attrs:{type:"email",placeholder:t.t("mail","Email address"),required:""},domProps:{value:t.newAlias},on:{input:function(n){n.target.composing||(t.newAlias=n.target.value)}}})])]):t._e()],2),t._v(" "),t.account.provisioningId?t._e():e("div",[t.showForm?t._e():e("button",{staticClass:"primary icon-add",on:{click:function(n){t.showForm=!0}}},[t._v("\n\t\t\t"+t._s(t.t("mail","Add alias"))+"\n\t\t")]),t._v(" "),t.showForm?e("button",{staticClass:"primary",class:t.loading?"icon-loading-small-dark":"icon-checkmark-white",attrs:{type:"submit",form:"createAliasForm",disabled:t.loading}},[t._v("\n\t\t\t"+t._s(t.t("mail","Create alias"))+"\n\t\t")]):t._e(),t._v(" "),t.showForm?e("button",{staticClass:"button-text",on:{click:t.resetCreate}},[t._v("\n\t\t\t"+t._s(t.t("mail","Cancel"))+"\n\t\t")]):t._e()])])}),[],!1,null,"3d86b7aa",null).exports),St=r(1473),kt=r.n(St),Et=r(1475),Lt=r.n(Et),Ot=r(1127),Pt=r(568),jt=r.n(Pt),Mt=r(1476),It=r.n(Mt),Nt=r(33);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Bt=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Tt(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function Ft(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function Dt(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){Ft(a,r,o,i,s,"next",t)}function s(t){Ft(a,r,o,i,s,"throw",t)}i(void 0)}))}}var Gt=It()(jt()("email")),$t={name:"TrustedSenders",data:function(){return{list:[]}},computed:{sortedSenders:function(){return Gt(this.list)}},mounted:function(){var t=this;return Dt(Bt().mark((function n(){return Bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ot.a)();case 2:t.list=n.sent;case 3:case"end":return n.stop()}}),n)})))()},methods:{removeSender:function(n){var e=this;return Dt(Bt().mark((function r(){return Bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.list=e.list.filter((function(t){return t.id!==n.id})),r.prev=1,r.next=4,Object(Ot.b)(n.email,n.type,!1);case 4:r.next=11;break;case 6:r.prev=6,r.t0=r.catch(1),p.a.error("Could not remove trusted sender ".concat(n.email),{error:r.t0}),Object(Nt.c)(t("mail","Could not remove trusted sender {sender}",{sender:n.email})),e.list.push(n);case 11:case"end":return r.stop()}}),r,null,[[1,6]])})))()},senderType:function(n){switch(n){case"individual":return t("mail","individual");case"domain":return t("mail","domain")}return n}}},qt=Object(T.a)($t,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._l(t.sortedSenders,(function(n){return e("div",{key:n.email},[t._v("\n\t\t"+t._s(n.email)+"\n\t\t"+t._s(t.senderType(n.type))+"\n\t\t"),e("button",{staticClass:"button",on:{click:function(e){return t.removeSender(n)}}},[t._v("\n\t\t\t"+t._s(t.t("mail","Remove"))+"\n\t\t")])])})),t._v(" "),t.sortedSenders.length?t._e():e("span",[t._v(" "+t._s(t.t("mail","No senders are trusted at the moment.")))])],2)}),[],!1,null,"e41e0a8c",null).exports;function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Rt=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Ut(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function Ht(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}var Yt={name:"SieveAccountForm",props:{account:{type:Object,required:!0}},data:function(){return{sieveConfig:{sieveEnabled:this.account.sieveEnabled,sieveHost:this.account.sieveHost||this.account.imapHost,sievePort:this.account.sievePort||4190,sieveUser:this.account.sieveUser||"",sievePassword:"",sieveSslMode:this.account.sieveSslMode||"tls"},loading:!1,useImapCredentials:!this.account.sieveUser,errorMessage:"",submitButtonText:t("mail","Save sieve settings")}},methods:{onSubmit:function(){var t,n=this;return(t=Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.loading=!0,n.errorMessage="",""===n.sieveConfig.sieveUser&&""===n.sieveConfig.sievePassword&&(n.useImapCredentials=!0),n.useImapCredentials&&(n.sieveConfig.sieveUser="",n.sieveConfig.sievePassword=""),t.prev=4,t.next=7,n.$store.dispatch("updateSieveAccount",{account:n.account,data:n.sieveConfig});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),n.errorMessage=t.t0.message;case 12:n.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[4,9]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){Ht(a,r,o,i,s,"next",t)}function s(t){Ht(a,r,o,i,s,"throw",t)}i(void 0)}))})()}}},zt=r(1478),Vt={insert:"head",singleton:!1},Qt=(M()(zt.a,Vt),zt.a.locals,Object(T.a)(Yt,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("form",{attrs:{id:"sieve-form"}},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveEnabled,expression:"sieveConfig.sieveEnabled"}],staticClass:"radio",attrs:{id:"sieve-disabled",type:"radio",name:"sieve-active"},domProps:{value:!1,checked:t._q(t.sieveConfig.sieveEnabled,!1)},on:{change:function(n){return t.$set(t.sieveConfig,"sieveEnabled",!1)}}}),t._v(" "),e("label",{class:{primary:!t.sieveConfig.sieveEnabled},attrs:{for:"sieve-disabled"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Disabled"))+"\n\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveEnabled,expression:"sieveConfig.sieveEnabled"}],staticClass:"radio",attrs:{id:"sieve-enabled",type:"radio",name:"sieve-active"},domProps:{value:!0,checked:t._q(t.sieveConfig.sieveEnabled,!0)},on:{change:function(n){return t.$set(t.sieveConfig,"sieveEnabled",!0)}}}),t._v(" "),e("label",{class:{primary:t.sieveConfig.sieveEnabled},attrs:{for:"sieve-enabled"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Enabled"))+"\n\t\t")])]),t._v(" "),t.sieveConfig.sieveEnabled?[e("label",{attrs:{for:"sieve-host"}},[t._v(t._s(t.t("mail","Sieve Host")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveHost,expression:"sieveConfig.sieveHost"}],attrs:{id:"sieve-host",type:"text",required:""},domProps:{value:t.sieveConfig.sieveHost},on:{input:function(n){n.target.composing||t.$set(t.sieveConfig,"sieveHost",n.target.value)}}}),t._v(" "),e("h4",[t._v(t._s(t.t("mail","Sieve Security")))]),t._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-none",type:"radio",name:"sieve-sec",value:"none"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"none")},on:{change:function(n){return t.$set(t.sieveConfig,"sieveSslMode","none")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"none"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-none"}},[t._v(t._s(t.t("mail","None")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-ssl",type:"radio",name:"sieve-sec",value:"ssl"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"ssl")},on:{change:function(n){return t.$set(t.sieveConfig,"sieveSslMode","ssl")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-ssl"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","SSL/TLS"))+"\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-tls",type:"radio",name:"sieve-sec",value:"tls"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"tls")},on:{change:function(n){return t.$set(t.sieveConfig,"sieveSslMode","tls")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-tls"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","STARTTLS"))+"\n\t\t\t")])]),t._v(" "),e("label",{attrs:{for:"sieve-port"}},[t._v(t._s(t.t("mail","Sieve Port")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sievePort,expression:"sieveConfig.sievePort"}],attrs:{id:"sieve-port",type:"text",required:""},domProps:{value:t.sieveConfig.sievePort},on:{input:function(n){n.target.composing||t.$set(t.sieveConfig,"sievePort",n.target.value)}}}),t._v(" "),e("h4",[t._v(t._s(t.t("mail","Sieve Credentials")))]),t._v(" "),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.useImapCredentials,expression:"useImapCredentials"}],staticClass:"radio",attrs:{id:"sieve-credentials-imap",type:"radio"},domProps:{value:!0,checked:t._q(t.useImapCredentials,!0)},on:{change:function(n){t.useImapCredentials=!0}}}),t._v(" "),e("label",{class:{primary:t.useImapCredentials},attrs:{for:"sieve-credentials-imap"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","IMAP Credentials"))+"\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.useImapCredentials,expression:"useImapCredentials"}],staticClass:"radio",attrs:{id:"sieve-credentials-custom",type:"radio"},domProps:{value:!1,checked:t._q(t.useImapCredentials,!1)},on:{change:function(n){t.useImapCredentials=!1}}}),t._v(" "),e("label",{class:{primary:!t.useImapCredentials},attrs:{for:"sieve-credentials-custom"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","Custom"))+"\n\t\t\t")])]),t._v(" "),t.useImapCredentials?t._e():[e("label",{attrs:{for:"sieve-user"}},[t._v(t._s(t.t("mail","Sieve User")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveUser,expression:"sieveConfig.sieveUser"}],attrs:{id:"sieve-user",type:"text",required:""},domProps:{value:t.sieveConfig.sieveUser},on:{input:function(n){n.target.composing||t.$set(t.sieveConfig,"sieveUser",n.target.value)}}}),t._v(" "),e("label",{attrs:{for:"sieve-password"}},[t._v(t._s(t.t("mail","Sieve Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sievePassword,expression:"sieveConfig.sievePassword"}],attrs:{id:"sieve-password",type:"password",required:""},domProps:{value:t.sieveConfig.sievePassword},on:{input:function(n){n.target.composing||t.$set(t.sieveConfig,"sievePassword",n.target.value)}}})]]:t._e(),t._v(" "),t._t("feedback"),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("input",{staticClass:"primary",attrs:{type:"submit",disabled:t.loading},domProps:{value:t.submitButtonText},on:{click:function(n){return n.preventDefault(),t.onSubmit.apply(null,arguments)}}})],2)}),[],!1,null,"8b1dc5a0",null).exports),Wt=r(592);function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Jt=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Kt(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function Zt(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function Xt(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){Zt(a,r,o,i,s,"next",t)}function s(t){Zt(a,r,o,i,s,"throw",t)}i(void 0)}))}}var tn={name:"SieveFilterForm",props:{account:{type:Object,required:!0}},data:function(){return{active:{},loading:!1,errorMessage:""}},mounted:function(){var t=this;return Xt(Jt().mark((function n(){return Jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Wt.a)(t.account.id);case 2:t.active=n.sent;case 3:case"end":return n.stop()}}),n)})))()},methods:{saveActiveScript:function(){var t=this;return Xt(Jt().mark((function n(){return Jt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,t.errorMessage="",n.prev=2,n.next=5,Object(Wt.c)(t.account.id,t.active);case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),t.errorMessage=n.t0.message;case 10:t.loading=!1;case 11:case"end":return n.stop()}}),n,null,[[2,7]])})))()}}},nn=r(1479),en={insert:"head",singleton:!1};M()(nn.a,en),nn.a.locals;function rn(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function on(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?rn(Object(e),!0).forEach((function(n){an(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):rn(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function an(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var sn={name:"AccountSettings",components:{SieveAccountForm:Qt,SieveFilterForm:Object(T.a)(tn,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"section"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.active.script,expression:"active.script"},{name:"shortkey",rawName:"v-shortkey.avoid",modifiers:{avoid:!0}}],attrs:{id:"sieve-text-area",rows:"20",disabled:t.loading},domProps:{value:t.active.script},on:{input:function(n){n.target.composing||t.$set(t.active,"script",n.target.value)}}}),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("button",{staticClass:"primary",class:t.loading?"icon-loading-small-dark":"icon-checkmark-white",attrs:{disabled:t.loading},on:{click:t.saveActiveScript}},[t._v("\n\t\t"+t._s(t.t("mail","Save sieve script"))+"\n\t")])])}),[],!1,null,"568aaba6",null).exports,TrustedSenders:qt,AccountForm:O.a,AliasSettings:_t,EditorSettings:B,SignatureSettings:ut,AppSettingsDialog:kt.a,AppSettingsSection:Lt.a,AccountDefaultsSettings:W},props:{account:{required:!0,type:Object},open:{required:!0,type:Boolean}},data:function(){return{showSettings:!1}},computed:{menu:function(){return this.buildMenu()},displayName:function(){return this.account.name},email:function(){return this.account.emailAddress}},watch:{showSettings:function(t){t||this.$emit("update:open",t)},open:function(t){t&&(this.showSettings=!0)}},methods:{onSave:function(t){return p.a.log("saving data",{data:t}),this.$store.dispatch("updateAccount",on(on({},t),{},{accountId:this.account.id})).then((function(t){return t})).catch((function(t){throw p.a.error("account update failed:",{error:t}),t}))},handleClick:function(){this.$refs.accountForm.$el.scrollIntoView({behavior:"smooth"})}}},cn=r(1480),ln={insert:"head",singleton:!1},un=(M()(cn.a,ln),cn.a.locals,Object(T.a)(sn,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("AppSettingsDialog",{attrs:{open:t.showSettings,"show-navigation":!0},on:{"update:open":function(n){t.showSettings=n}}},[e("AppSettingsSection",{attrs:{title:t.t("mail","Account settings")}},[e("div",{staticClass:"alias-item"},[e("p",[e("strong",[t._v(t._s(t.displayName))]),t._v(" <"+t._s(t.email)+">")]),t._v(" "),t.account.provisioningId?t._e():e("a",{staticClass:"button icon-rename",attrs:{title:t.t("mail","Change name")},on:{click:t.handleClick}})]),t._v(" "),e("AliasSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{title:t.t("mail","Signature")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","A signature is added to the text of new messages and replies."))+"\n\t\t")]),t._v(" "),e("SignatureSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{title:t.t("mail","Writing mode")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","Preferred writing mode for new messages and replies."))+"\n\t\t")]),t._v(" "),e("EditorSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{title:t.t("mail","Default folders")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","The folders to use for drafts, sent messages and deleted messages."))+"\n\t\t")]),t._v(" "),e("AccountDefaultsSettings",{attrs:{account:t.account}})],1),t._v(" "),t.account&&!t.account.provisioningId?e("AppSettingsSection",{attrs:{title:t.t("mail","Mail server")}},[e("div",{attrs:{id:"mail-settings"}},[e("AccountForm",{key:t.account.accountId,ref:"accountForm",attrs:{"display-name":t.displayName,email:t.email,save:t.onSave,account:t.account}})],1)]):t._e(),t._v(" "),t.account&&!t.account.provisioningId?e("AppSettingsSection",{attrs:{title:t.t("mail","Sieve filter server")}},[e("div",{attrs:{id:"sieve-settings"}},[e("SieveAccountForm",{key:t.account.accountId,ref:"sieveAccountForm",attrs:{account:t.account}})],1)]):t._e(),t._v(" "),t.account&&t.account.sieveEnabled?e("AppSettingsSection",{attrs:{title:t.t("mail","Sieve filter rules")}},[e("div",{attrs:{id:"sieve-filter"}},[e("SieveFilterForm",{key:t.account.accountId,ref:"sieveFilterForm",attrs:{account:t.account}})],1)]):t._e(),t._v(" "),e("AppSettingsSection",{attrs:{title:t.t("mail","Trusted senders")}},[e("TrustedSenders")],1)],1)}),[],!1,null,"13a5c8ff",null).exports);function dn(t){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pn=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==dn(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function fn(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}var hn={name:"NavigationAccount",components:{AppNavigationItem:h.a,AppNavigationIconBullet:v.a,ActionButton:y.a,ActionCheckbox:A.a,ActionInput:w.a,ActionText:_.a,AccountSettings:un},props:{account:{type:Object,required:!0},firstMailbox:{type:Object,default:function(){}},isFirst:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1}},data:function(){return{menuOpen:!1,loading:{delete:!1},savingShowOnlySubscribed:!1,quota:void 0,editing:!1,showSaving:!1,showSettings:!1}},computed:{visible:function(){return!0!==this.account.isUnified&&!1!==this.account.visible},firstMailboxRoute:function(){return this.firstMailbox?{name:"mailbox",params:{mailboxId:this.firstMailbox.databaseId}}:""},id:function(){return"account-"+this.account.id},bulletColor:function(){return this.account.error?void 0:Object(E.a)(this.account.emailAddress)},iconError:function(){return this.account.error?"icon-error":void 0},quotaText:function(){return void 0===this.quota?t("mail","Loading …"):!1===this.quota?t("mail","Not supported by the server"):t("mail","{usage} of {limit} used",{usage:Object(S.formatFileSize)(this.quota.usage),limit:Object(S.formatFileSize)(this.quota.limit)})}},methods:{createMailbox:function(t){this.editing=!0;var n=t.target.elements[1].value;p.a.info("creating mailbox "+n),this.menuOpen=!1,this.$store.dispatch("createMailbox",{account:this.account,name:n}).then((function(){return p.a.info("mailbox ".concat(n," created"))})).catch((function(t){throw p.a.error("could not create mailbox",{error:t}),t})),this.editing=!1,this.showSaving=!1},openCreateMailbox:function(){this.editing=!0,this.showSaving=!1},removeAccount:function(){var n=this,e=this.account.id;p.a.info("delete account",{account:this.account});var r=t("mail","The account for {email} and cached email data will be removed from Nextcloud, but not from your email provider.",{email:this.account.emailAddress});OC.dialogs.confirmDestructive(r,t("mail","Remove account {email}",{email:this.account.emailAddress}),{type:OC.dialogs.YES_NO_BUTTONS,confirm:t("mail","Remove {email}",{email:this.account.emailAddress}),confirmClasses:"error",cancel:t("mail","Cancel")},(function(t){if(t)return n.$store.dispatch("deleteAccount",n.account).then((function(){n.loading.delete=!0})).then((function(){p.a.info("account ".concat(e," deleted, redirecting …")),location.href=Object(k.generateUrl)("/apps/mail")})).catch((function(t){return p.a.error("could not delete account",{error:t})}));n.loading.delete=!1}))},changeAccountOrderUp:function(){this.$store.dispatch("moveAccount",{account:this.account,up:!0}).catch((function(t){return p.a.error("could not move account up",{error:t})}))},changeAccountOrderDown:function(){this.$store.dispatch("moveAccount",{account:this.account}).catch((function(t){return p.a.error("could not move account down",{error:t})}))},changeShowSubscribedOnly:function(t){var n=this;this.savingShowOnlySubscribed=!0,this.$store.dispatch("patchAccount",{account:this.account,data:{showSubscribedOnly:t}}).then((function(){n.savingShowOnlySubscribed=!1,p.a.info("show only subscribed mailboxes updated to "+t)})).catch((function(t){throw p.a.error("could not update subscription mode",{error:t}),n.savingShowOnlySubscribed=!1,t}))},onMenuToggle:function(t){t&&(console.debug("accounts menu opened, fetching quota"),this.fetchQuota())},fetchQuota:function(){var t,n=this;return(t=pn().mark((function t(){var e;return pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.e)(n.account.id);case 2:e=t.sent,console.debug("quota fetched",{quota:e}),n.quota=void 0!==e&&e;case 5:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){fn(a,r,o,i,s,"next",t)}function s(t){fn(a,r,o,i,s,"throw",t)}i(void 0)}))})()},toggleAccountSettings:function(){this.displayAccountSettings=!this.displayAccountSettings},showAccountSettings:function(){this.showSettings=!0}}},mn=Object(T.a)(hn,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.visible?e("AppNavigationItem",{key:t.id,attrs:{id:t.id,icon:t.iconError,"menu-open":t.menuOpen,title:t.account.emailAddress,to:t.firstMailboxRoute,exact:!0},on:{"update:menuOpen":[function(n){t.menuOpen=n},t.onMenuToggle],"update:menu-open":function(n){t.menuOpen=n}},scopedSlots:t._u([{key:"actions",fn:function(){return[t.account.isUnified?t._e():e("ActionText",{attrs:{icon:"icon-info",title:t.t("mail","Quota")}},[t._v("\n\t\t\t"+t._s(t.quotaText)+"\n\t\t")]),t._v(" "),e("ActionButton",{attrs:{icon:"icon-settings","close-after-click":!0},on:{click:t.showAccountSettings,shortkey:t.toggleAccountSettings}},[t._v("\n\t\t\t"+t._s(t.t("mail","Account settings"))+"\n\t\t")]),t._v(" "),e("ActionCheckbox",{attrs:{checked:t.account.showSubscribedOnly,disabled:t.savingShowOnlySubscribed},on:{"update:checked":t.changeShowSubscribedOnly}},[t._v("\n\t\t\t"+t._s(t.t("mail","Show only subscribed mailboxes"))+"\n\t\t")]),t._v(" "),t.editing?t._e():e("ActionButton",{attrs:{icon:"icon-folder"},on:{click:t.openCreateMailbox}},[t._v("\n\t\t\t"+t._s(t.t("mail","Add mailbox"))+"\n\t\t")]),t._v(" "),t.editing?e("ActionInput",{attrs:{icon:"icon-folder"},on:{submit:function(n){return n.preventDefault(),n.stopPropagation(),t.createMailbox.apply(null,arguments)}}}):t._e(),t._v(" "),t.showSaving?e("ActionText",{attrs:{icon:"icon-loading-small"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Saving"))+"\n\t\t")]):t._e(),t._v(" "),t.isFirst?t._e():e("ActionButton",{attrs:{icon:"icon-triangle-n"},on:{click:t.changeAccountOrderUp}},[t._v("\n\t\t\t"+t._s(t.t("mail","Move up"))+"\n\t\t")]),t._v(" "),t.isLast?t._e():e("ActionButton",{attrs:{icon:"icon-triangle-s"},on:{click:t.changeAccountOrderDown}},[t._v("\n\t\t\t"+t._s(t.t("mail","Move down"))+"\n\t\t")]),t._v(" "),t.account.provisioningId?t._e():e("ActionButton",{attrs:{icon:"icon-delete"},on:{click:t.removeAccount}},[t._v("\n\t\t\t"+t._s(t.t("mail","Remove account"))+"\n\t\t")])]},proxy:!0},{key:"extra",fn:function(){return[e("AccountSettings",{attrs:{open:t.showSettings,account:t.account},on:{"update:open":function(n){t.showSettings=n}}})]},proxy:!0}],null,!1,635850782)},[t.bulletColor?e("AppNavigationIconBullet",{attrs:{slot:"icon",color:t.bulletColor},slot:"icon"}):t._e()],1):t._e()}),[],!1,null,null,null).exports;function vn(t){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */gn=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==vn(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function yn(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}var bn={name:"NavigationAccountExpandCollapse",components:{AppNavigationItem:h.a},props:{account:{type:Object,required:!0}},computed:{id:function(){return"collapse-"+this.account.id},title:function(){return this.account.collapsed&&this.account.showSubscribedOnly?t("mail","Show all subscribed mailboxes"):this.account.collapsed&&!this.account.showSubscribedOnly?t("mail","Show all mailboxes"):t("mail","Collapse mailboxes")}},methods:{toggleCollapse:function(){var t,n=this;return(t=gn().mark((function t(){return gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.a.debug("toggling collapsed mailboxes for account "+n.account.id),t.prev=1,t.next=4,n.$store.commit("toggleAccountCollapsed",n.account.id);case 4:return t.next=6,n.$store.dispatch("setAccountSetting",{accountId:n.account.id,key:"collapsed",value:n.account.collapsed});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),p.a.error("could not update account settings",{error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){yn(a,r,o,i,s,"next",t)}function s(t){yn(a,r,o,i,s,"throw",t)}i(void 0)}))})()}}},An=r(1481),xn={insert:"head",singleton:!1},wn=(M()(An.a,xn),An.a.locals,Object(T.a)(bn,(function(){var t=this.$createElement;return(this._self._c||t)("AppNavigationItem",{attrs:{title:this.title},on:{click:this.toggleCollapse}})}),[],!1,null,"2d33cadc",null).exports),Cn=r(1482),_n=r.n(Cn),Sn=r(1501),kn=r(1081),En=r(1502),Ln=r(1503),On=r(1504),Pn=r(1022),jn=r(1505);function Mn(t){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */In=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Mn(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function Nn(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}var Tn={name:"MoveMailboxModal",components:{MailboxPicker:r(1238).a},props:{account:{type:Object,required:!0},mailbox:{type:Object,required:!0}},data:function(){return{moving:!1,destMailboxId:void 0}},methods:{onClose:function(){this.$emit("close")},onMove:function(){var t,n=this;return(t=In().mark((function t(){var e,r,o;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.moving=!0,n.mailbox.id===n.destMailboxId){t.next=22;break}if(t.prev=2,n.destMailboxId){t.next=9;break}return e=n.mailbox.displayName,t.next=7,n.$store.dispatch("renameMailbox",{account:n.account,mailbox:n.mailbox,newName:e});case 7:t.next=13;break;case 9:return r=n.$store.getters.getMailbox(n.destMailboxId),o=r.name+n.mailbox.delimiter+n.mailbox.name,t.next=13,n.$store.dispatch("renameMailbox",{account:n.account,mailbox:n.mailbox,newName:o});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),p.a.error("could not move mailbox",{error:t.t0});case 18:return t.prev=18,n.moving=!1,n.$emit("close"),t.finish(18);case 22:case"end":return t.stop()}}),t,null,[[2,15,18,22]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){Nn(a,r,o,i,s,"next",t)}function s(t){Nn(a,r,o,i,s,"throw",t)}i(void 0)}))})()},genId:function(t){return"mailbox-"+t.databaseId}}},Bn=Object(T.a)(Tn,(function(){var t=this,n=t.$createElement;return(t._self._c||n)("MailboxPicker",{attrs:{account:t.account,selected:t.destMailboxId,loading:t.moving,"picked-mailbox":t.mailbox,"allow-root":!0,"label-select":t.t("mail","Move"),"label-select-loading":t.t("mail","Moving")},on:{"update:selected":function(n){t.destMailboxId=n},select:t.onMove,close:t.onClose}})}),[],!1,null,null,null).exports,Fn=r(37),Dn=r(115),Gn=r(31),$n=r(1109),qn=r(68),Un=r(992);function Rn(t){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Hn=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Rn(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function Yn(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function zn(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){Yn(a,r,o,i,s,"next",t)}function s(t){Yn(a,r,o,i,s,"throw",t)}i(void 0)}))}}function Vn(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qn,Wn=function(){function t(n,e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=n,this.options=r,this.registerListeners.bind(this)(n),this.setInitialAttributes()}var n,e,r,o,a;return n=t,(e=[{key:"setInitialAttributes",value:function(){this.draggableInfo={},this.setStatus("enabled")}},{key:"update",value:function(t,n){this.setInitialAttributes(),this.options=n.options}},{key:"registerListeners",value:function(t){Un.a.$on("dragStart",this.onDragStart.bind(this)),Un.a.$on("dragEnd",this.onDragEnd.bind(this)),t.firstChild.addEventListener("dragover",this.onDragOver.bind(this)),t.firstChild.addEventListener("dragleave",this.onDragLeave.bind(this)),t.firstChild.addEventListener("drop",this.onDrop.bind(this))}},{key:"removeListeners",value:function(t){Un.a.$off("dragStart",this.onDragStart),Un.a.$off("dragEnd",this.onDragEnd),t.firstChild.removeEventListener("dragover",this.onDragOver),t.firstChild.removeEventListener("dragleave",this.onDragLeave),t.firstChild.removeEventListener("drop",this.onDrop)}},{key:"setStatus",value:function(t){this.el.setAttribute("droppable-mailbox",t)}},{key:"onDragStart",value:function(t){this.draggableInfo=t,this.canBeDropped()||this.setStatus("disabled")}},{key:"canBeDropped",value:function(){return this.isSameAccount()&&this.options.isValidDropTarget}},{key:"isSameAccount",value:function(){return this.draggableInfo.accountId===this.options.accountId}},{key:"onDragEnd",value:function(){this.setInitialAttributes()}},{key:"onDragOver",value:function(t){t.preventDefault(),this.draggableInfo.mailboxId!==this.options.mailboxId&&(this.options.isValidDropTarget&&this.setStatus("dragover"),t.dataTransfer.dropEffect="move")}},{key:"onDragLeave",value:function(t){t.preventDefault(),this.setStatus("enabled")}},{key:"onDrop",value:(a=zn(Hn().mark((function t(n){var e,r,o=this;return Hn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),this.draggableInfo.mailboxId!==this.options.mailboxId){t.next=3;break}return t.abrupt("return");case 3:return this.setInitialAttributes(),e=JSON.parse(n.dataTransfer.getData("text")),Un.a.$emit("envelopesDropped",{envelopes:e}),t.prev=6,r=e.map(function(){var t=zn(Hn().mark((function t(n){var e;return Hn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.processDroppedItem(parseInt(n.envelopeId));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.next=10,Promise.all(r);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),p.a.error("could not process dropped messages",t.t0);case 15:return t.prev=15,Un.a.$emit("envelopesMoved",{mailboxId:this.options.mailboxId,movedEnvelopes:e}),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[6,12,15,18]])}))),function(t){return a.apply(this,arguments)})},{key:"processDroppedItem",value:(o=zn(Hn().mark((function t(n){var e;return Hn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=document.querySelector('[data-envelope-id="'.concat(n,'"]'))).setAttribute("draggable-envelope","pending"),t.prev=2,t.next=5,qn.a.dispatch("moveMessage",{id:n,destMailboxId:this.options.mailboxId});case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),e.removeAttribute("draggable-envelope"),p.a.error("could not move messages",t.t0);case 11:case"end":return t.stop()}}),t,this,[[2,7]])}))),function(t){return o.apply(this,arguments)})}])&&Vn(n.prototype,e),r&&Vn(n,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(),Kn={bind:function(t,n,e){Qn=new Wn(t,e.context,n.value)},componentUpdated:function(t,n){Qn.options=n.value,Qn.update(t,Qn)}};function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Zn=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Jn(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function Xn(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function te(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){Xn(a,r,o,i,s,"next",t)}function s(t){Xn(a,r,o,i,s,"throw",t)}i(void 0)}))}}function ne(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ee(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(e),!0).forEach((function(n){re(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ne(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function re(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var oe={name:"NavigationMailbox",components:{AppNavigationItem:h.a,AppNavigationCounter:_n.a,ActionText:_.a,ActionButton:y.a,ActionCheckbox:A.a,ActionInput:w.a,IconEmailCheck:Sn.a,IconExternal:kn.a,IconFolderAdd:En.a,IconFolderRename:Ln.a,IconFolderSync:On.a,IconDelete:Pn.a,IconInfo:jn.a,MoveMailboxModal:Bn},directives:{droppableMailbox:Kn},props:{account:{type:Object,required:!0},mailbox:{type:Object,required:!0},filter:{type:String,default:"",required:!1}},data:function(){var t,n;return{debug:(null===(t=window)||void 0===t||null===(n=t.OC)||void 0===n?void 0:n.debug)||!1,mailboxStats:void 0,loadingMarkAsRead:!1,clearingCache:!1,showSaving:!1,changeSubscription:!1,changingSyncInBackground:!1,editing:!1,showSubMailboxes:!1,menuOpen:!1,renameLabel:!0,renameInput:!1,mailboxName:this.mailbox.displayName,showMoveModal:!1,hasDelimiter:!!this.mailbox.delimiter}},computed:{visible:function(){return(!1===this.account.showSubscribedOnly||this.mailbox.attributes&&this.mailbox.attributes.includes("\\subscribed"))&&this.isUnifiedButOnlyInbox},notInbox:function(){return"inbox"!==this.mailbox.name.toLowerCase()},notVirtual:function(){return!this.account.isUnified&&"flagged"!==this.mailbox.specialRole&&!this.filter},title:function(){return"starred"===this.filter?Object($n.a)(ee(ee({},this.mailbox),{},{specialUse:["flagged"]})):Object($n.a)(this.mailbox)},icon:function(){return"starred"===this.filter?"icon-flagged":this.mailbox.isPriorityInbox?"icon-important":this.mailbox.specialRole?"icon-"+this.mailbox.specialRole:"icon-folder"},to:function(){return{name:"mailbox",params:{mailboxId:this.mailbox.databaseId,filter:this.filter?this.filter:void 0}}},hasSubMailboxes:function(){return this.subMailboxes.length>0},subMailboxes:function(){return this.$store.getters.getSubMailboxes(this.mailbox.databaseId)},statsText:function(){return this.mailboxStats&&"total"in this.mailboxStats&&"unread"in this.mailboxStats?0===this.mailboxStats.unread?Object(Gn.translatePlural)("mail","{total} message","{total} messages",this.mailboxStats.total,{total:this.mailboxStats.total}):Object(Gn.translatePlural)("mail","{unread} unread of {total}","{unread} unread of {total}",this.mailboxStats.unread,{total:this.mailboxStats.total,unread:this.mailboxStats.unread}):t("mail","Loading …")},isSubscribed:function(){return this.mailbox.attributes&&this.mailbox.attributes.includes("\\subscribed")},isDroppableSpecialMailbox:function(){return"starred"!==this.filter&&![this.account.draftsMailboxId,this.account.sentMailboxId].includes(this.mailbox.databaseId)},isActive:function(){return this.$route.params.mailboxId===this.mailbox.databaseId},isValidDropTarget:function(){return!this.isActive&&(this.isDroppableSpecialMailbox||!this.mailbox.specialRole&&!this.account.isUnified)},isUnifiedButOnlyInbox:function(){return!this.mailbox.isUnified||this.mailbox.specialUse.includes("inbox")&&this.$store.getters.accounts.length>2},showUnreadCounter:function(){return this.mailbox.unread>0&&"starred"!==this.filter}},mounted:function(){Un.a.$on("dragStart",this.onDragStart),Un.a.$on("dragEnd",this.onDragEnd),Un.a.$on("envelopesMoved",this.onEnvelopesMoved)},beforeDestroy:function(){Un.a.$off("dragStart",this.onDragStart),Un.a.$off("dragEnd",this.onDragEnd),Un.a.$off("envelopesMoved",this.onEnvelopesMoved)},methods:{genId:function(t){return"mailbox-"+t.databaseId},onMenuToggle:function(t){t&&this.fetchMailboxStats()},fetchMailboxStats:function(){var t=this;return te(Zn().mark((function n(){var e;return Zn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.mailboxStats=null,!t.account.isUnified&&"flagged"!==t.mailbox.specialRole){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,Object(Dn.d)(t.mailbox.databaseId);case 6:e=n.sent,p.a.debug("loaded mailbox stats for ".concat(t.mailbox.databaseId),{stats:e}),t.mailboxStats=e,n.next=15;break;case 11:n.prev=11,n.t0=n.catch(3),t.mailboxStats={error:!0},p.a.error("could not load mailbox stats for ".concat(t.mailbox.databaseId),n.t0);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))()},createMailbox:function(t){var n=this;return te(Zn().mark((function e(){var r,o;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.editing=!0,r=t.target.elements[1].value,o=n.mailbox.name+n.mailbox.delimiter+r,p.a.info("creating mailbox ".concat(o," as submailbox of ").concat(n.mailbox.databaseId)),n.menuOpen=!1,e.prev=5,e.next=8,n.$store.dispatch("createMailbox",{account:n.account,name:o});case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(5),p.a.error("could not create mailbox ".concat(o),{error:e.t0}),e.t0;case 14:return e.prev=14,n.editing=!1,n.showSaving=!1,e.finish(14);case 18:p.a.info("mailbox ".concat(o," created")),n.showSubMailboxes=!0;case 20:case"end":return e.stop()}}),e,null,[[5,10,14,18]])})))()},openCreateMailbox:function(){this.editing=!0,this.showSaving=!1},markAsRead:function(){var t=this;this.loadingMarkAsRead=!0,this.$store.dispatch("markMailboxRead",{accountId:this.account.id,mailboxId:this.mailbox.databaseId}).then((function(){return p.a.info("mailbox ".concat(t.mailbox.databaseId," marked as read"))})).catch((function(n){return p.a.error("could not mark mailbox ".concat(t.mailbox.databaseId," as read"),{error:n})})).then((function(){return t.loadingMarkAsRead=!1}))},changeFolderSubscription:function(t){var n=this;return te(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.changeSubscription=!0,e.next=4,n.$store.dispatch("changeMailboxSubscription",{mailbox:n.mailbox,subscribed:t});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),p.a.error("could not update subscription of mailbox ".concat(n.mailbox.databaseId),{error:e.t0}),e.t0;case 10:return e.prev=10,n.changeSubscription=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,6,10,13]])})))()},changeSyncInBackground:function(t){var n=this;return te(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.changingSyncInBackground=!0,e.next=4,n.$store.dispatch("patchMailbox",{mailbox:n.mailbox,attributes:{syncInBackground:t}});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),p.a.error("could not update background sync flag of mailbox ".concat(n.mailbox.databaseId),{error:e.t0}),e.t0;case 10:return e.prev=10,n.changingSyncInBackground=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,6,10,13]])})))()},clearCache:function(){var t=this;return te(Zn().mark((function n(){return Zn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.clearingCache=!0,p.a.debug("clearing message cache",{accountId:t.account.id,mailboxId:t.mailbox.databaseId}),n.next=5,Object(Fn.a)(t.account.id,t.mailbox.databaseId);case 5:window.location.reload(!1);case 6:return n.prev=6,t.clearCache=!1,n.finish(6);case 9:case"end":return n.stop()}}),n,null,[[0,,6,9]])})))()},deleteMailbox:function(){var n=this,e=this.mailbox.databaseId;p.a.info("delete mailbox",{mailbox:this.mailbox}),OC.dialogs.confirmDestructive(t("mail","The mailbox and all messages in it will be deleted."),t("mail","Delete mailbox"),{type:OC.dialogs.YES_NO_BUTTONS,confirm:t("mail","Delete mailbox {name}",{name:this.mailbox.displayName}),confirmClasses:"error",cancel:t("mail","Cancel")},(function(t){if(t)return n.$store.dispatch("deleteMailbox",{mailbox:n.mailbox}).then((function(){p.a.info("mailbox ".concat(e," deleted"))})).catch((function(t){return p.a.error("could not delete mailbox",{error:t})}))}))},renameMailbox:function(){var n=this;return te(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.renameInput=!1,n.showSaving=!1,e.prev=2,e.next=5,n.$store.dispatch("renameMailbox",{account:n.account,mailbox:n.mailbox,newName:n.mailboxName});case 5:n.renameLabel=!0,n.renameInput=!1,n.showSaving=!1,e.next=17;break;case 10:e.prev=10,e.t0=e.catch(2),Object(Nt.d)(t("mail","An error occurred, unable to rename the mailbox.")),console.error(e.t0),n.renameLabel=!1,n.renameInput=!1,n.showSaving=!0;case 17:case"end":return e.stop()}}),e,null,[[2,10]])})))()},openRenameInput:function(){this.renameLabel=!1,this.renameInput=!0,this.showSaving=!1},onOpenMoveModal:function(){this.showMoveModal=!0},onCloseMoveModal:function(){this.showMoveModal=!1},onDragStart:function(t){var n=t.accountId;n===this.mailbox.accountId&&(this.$store.commit("expandAccount",n),this.showSubMailboxes=!0)},onDragEnd:function(t){t.accountId===this.mailbox.accountId&&(this.showSubMailboxes=!1)},onEnvelopesMoved:function(t){var n=this,e=t.mailboxId,r=t.movedEnvelopes;if(this.mailbox.databaseId===e){var o,a=r.find((function(t){return t.envelopeId===n.$route.params.threadId}));if("message"===this.$route.name&&a)this.$router.push({name:"mailbox",params:{mailboxId:this.$route.params.mailboxId,filter:null===(o=this.$route.params)||void 0===o?void 0:o.filter}})}}}},ae=Object(T.a)(oe,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.visible?e("AppNavigationItem",{directives:[{name:"droppable-mailbox",rawName:"v-droppable-mailbox",value:{mailboxId:t.mailbox.databaseId,accountId:t.mailbox.accountId,isValidDropTarget:t.isValidDropTarget},expression:"{\n\t\tmailboxId: mailbox.databaseId,\n\t\taccountId: mailbox.accountId,\n\t\tisValidDropTarget,\n\t}"}],key:t.genId(t.mailbox),attrs:{id:t.genId(t.mailbox),"allow-collapse":!0,"menu-open":t.menuOpen,"force-menu":!0,icon:t.icon,title:t.title,to:t.to,open:t.showSubMailboxes},on:{"update:menuOpen":[function(n){t.menuOpen=n},t.onMenuToggle],"update:menu-open":function(n){t.menuOpen=n},"update:open":function(n){t.showSubMailboxes=n}}},[e("template",{slot:"actions"},[t.account.isUnified||"flagged"===t.mailbox.specialRole?t._e():e("ActionText",{attrs:{title:t.mailbox.name},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconInfo",{attrs:{title:t.statsText,size:20}})]},proxy:!0}],null,!1,3059915399)},[t._v("\n\t\t\t"+t._s(t.statsText)+"\n\t\t")]),t._v(" "),"flagged"===t.mailbox.specialRole||t.account.isUnified?t._e():e("ActionButton",{attrs:{title:t.t("mail","Mark all as read"),disabled:t.loadingMarkAsRead},on:{click:t.markAsRead},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconEmailCheck",{attrs:{title:t.t("mail","Mark all messages of this mailbox as read"),size:20}})]},proxy:!0}],null,!1,1600378416)},[t._v("\n\t\t\t"+t._s(t.t("mail","Mark all messages of this mailbox as read"))+"\n\t\t")]),t._v(" "),t.editing||t.account.isUnified||!t.hasDelimiter||"flagged"===t.mailbox.specialRole?t._e():e("ActionButton",{on:{click:t.openCreateMailbox},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderAdd",{attrs:{title:t.t("mail","Add submailbox"),size:20}})]},proxy:!0}],null,!1,3855968907)},[t._v("\n\t\t\t"+t._s(t.t("mail","Add submailbox"))+"\n\t\t")]),t._v(" "),t.editing?e("ActionInput",{on:{submit:function(n){return n.preventDefault(),n.stopPropagation(),t.createMailbox.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderAdd",{attrs:{title:t.t("mail","Add submailbox"),size:20}})]},proxy:!0}],null,!1,3855968907)}):t._e(),t._v(" "),!t.renameLabel||t.hasSubMailboxes||t.account.isUnified?t._e():e("ActionButton",{on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.openRenameInput.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderRename",{attrs:{title:t.t("mail","Edit name"),size:20}})]},proxy:!0}],null,!1,2185581176)},[t._v("\n\t\t\t"+t._s(t.t("mail","Edit name"))+"\n\t\t")]),t._v(" "),t.renameInput?e("ActionInput",{attrs:{value:t.mailboxName},on:{"update:value":function(n){t.mailboxName=n},submit:function(n){return n.preventDefault(),n.stopPropagation(),t.renameMailbox.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderRename",{attrs:{title:t.t("mail","Edit name"),size:20}})]},proxy:!0}],null,!1,2185581176)}):t._e(),t._v(" "),t.showSaving?e("ActionText",{attrs:{icon:"icon-loading-small"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Saving"))+"\n\t\t")]):t._e(),t._v(" "),t.account.isUnified||!t.hasDelimiter||t.mailbox.specialRole||t.hasSubMailboxes?t._e():e("ActionButton",{attrs:{id:t.genId(t.mailbox),"close-after-click":!0},on:{click:function(n){return n.preventDefault(),t.onOpenMoveModal.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconExternal",{attrs:{title:t.t("mail","Move"),size:20}})]},proxy:!0}],null,!1,2980341929)},[t._v("\n\t\t\t"+t._s(t.t("mail","Move"))+"\n\t\t")]),t._v(" "),t.debug&&!t.account.isUnified&&"flagged"!==t.mailbox.specialRole?e("ActionButton",{attrs:{title:t.t("mail","Clear cache"),disabled:t.clearingCache},on:{click:t.clearCache},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderSync",{attrs:{title:t.t("mail","Clear locally cached data, in case there are issues with synchronization."),size:20}})]},proxy:!0}],null,!1,2650797150)},[t._v("\n\t\t\t"+t._s(t.t("mail","Clear locally cached data, in case there are issues with synchronization."))+"\n\t\t")]):t._e(),t._v(" "),t.notVirtual?e("ActionCheckbox",{attrs:{checked:t.isSubscribed,disabled:t.changeSubscription},on:{"update:checked":t.changeFolderSubscription}},[t._v("\n\t\t\t"+t._s(t.t("mail","Subscribed"))+"\n\t\t")]):t._e(),t._v(" "),t.notVirtual&&t.notInbox?e("ActionCheckbox",{attrs:{checked:t.mailbox.syncInBackground,disabled:t.changingSyncInBackground},on:{"update:checked":t.changeSyncInBackground}},[t._v("\n\t\t\t"+t._s(t.t("mail","Sync in background"))+"\n\t\t")]):t._e(),t._v(" "),t.account.isUnified||t.mailbox.specialRole||t.hasSubMailboxes?t._e():e("ActionButton",{on:{click:t.deleteMailbox},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconDelete",{attrs:{title:t.t("mail","Delete mailbox"),size:20}})]},proxy:!0}],null,!1,3732234905)},[t._v("\n\t\t\t"+t._s(t.t("mail","Delete mailbox"))+"\n\t\t")])],1),t._v(" "),t.showUnreadCounter&&"trash"!==t.mailbox.specialRole?e("AppNavigationCounter",{attrs:{slot:"counter"},slot:"counter"},[t._v("\n\t\t"+t._s(t.mailbox.unread)+"\n\t")]):t._e(),t._v(" "),e("template",{slot:"extra"},[t.showMoveModal?e("MoveMailboxModal",{attrs:{account:t.account,mailbox:t.mailbox},on:{close:t.onCloseMoveModal}}):t._e()],1),t._v(" "),t._l(t.subMailboxes,(function(n){return e("NavigationMailbox",{key:t.genId(n),attrs:{account:t.account,mailbox:n}})}))],2):t._e()}),[],!1,null,null,null).exports,ie=r(1483),se=r.n(ie),ce={name:"NavigationOutbox",components:{AppNavigationItem:h.a,CounterBubble:se.a},computed:{count:function(){return this.$store.getters["outbox/getAllMessages"].length},to:function(){return{name:"outbox"}}}},le=r(1484),ue={insert:"head",singleton:!1},de=(M()(le.a,ue),le.a.locals,Object(T.a)(ce,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("AppNavigationItem",{key:"navigation-outbox",attrs:{id:"navigation-outbox",icon:"icon-mail",title:t.t("mail","Outbox"),to:t.to},scopedSlots:t._u([{key:"counter",fn:function(){return[t.count?e("CounterBubble",[t._v("\n\t\t\t"+t._s(t.count)+"\n\t\t")]):t._e()]},proxy:!0}])})}),[],!1,null,"001848f2",null).exports),pe=r(943),fe={name:"KeyboardShortcuts",components:{Modal:r.n(pe).a}},he=r(1485),me={insert:"head",singleton:!1};M()(he.a,me),he.a.locals;function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ge=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==ve(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function ye(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}var be={name:"AppSettingsMenu",components:{KeyboardShortcuts:Object(T.a)(fe,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("Modal",{attrs:{size:"large",title:t.t("mail","Keyboard shortcut")},on:{close:function(n){return t.$emit("close")}}},[e("h2",[t._v(t._s(t.t("mail","Keyboard shortcuts")))]),t._v(" "),e("p",[t._v(t._s(t.t("mail","Speed up your Mail experience with these quick shortcuts.")))]),t._v(" "),e("dl",[e("div",[e("dt",[e("kbd",[t._v("C")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Compose new message")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("←")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Newer message")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("→")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Older message")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("S")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Toggle star")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("U")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Toggle unread")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("Del")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Delete")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("Ctrl")]),t._v(" + "),e("kbd",[t._v("F")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Search")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("Ctrl")]),t._v(" + "),e("kbd",[t._v("Enter")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Send")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("R")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Refresh")))])])])])}),[],!1,null,"17460ac4",null).exports},data:function(){return{loadingAvatarSettings:!1,optOutSettingsText:t("mail","Allow the app to collect data about your interactions. Based on this data, the app will adapt to your preferences. The data will only be stored locally."),loadingOptOutSettings:!1,replySettingsText:t("mail","Put my text to the bottom of a reply instead of on top of it."),loadingReplySettings:!1,displayKeyboardShortcuts:!1,autoTaggingText:t("mail","Automatically classify importance of new email"),toggleAutoTagging:!1}},computed:{useBottomReplies:function(){return"bottom"===this.$store.getters.getPreference("reply-mode","top")},useExternalAvatars:function(){return"true"===this.$store.getters.getPreference("external-avatars","true")},useDataCollection:function(){return"true"===this.$store.getters.getPreference("collect-data","true")},useAutoTagging:function(){return"true"===this.$store.getters.getPreference("tag-classified-messages","true")}},methods:{onToggleButtonReplies:function(t){var n=this;this.loadingReplySettings=!0,this.$store.dispatch("savePreference",{key:"reply-mode",value:t.target.checked?"bottom":"top"}).catch((function(t){return p.a.error("could not save preferences",{error:t})})).then((function(){n.loadingReplySettings=!1}))},onToggleExternalAvatars:function(t){var n=this;this.loadingAvatarSettings=!0,this.$store.dispatch("savePreference",{key:"external-avatars",value:t.target.checked?"true":"false"}).catch((function(t){return p.a.error("could not save preferences",{error:t})})).then((function(){n.loadingAvatarSettings=!1}))},onToggleCollectData:function(t){var n=this;this.loadingOptOutSettings=!0,this.$store.dispatch("savePreference",{key:"collect-data",value:t.target.checked?"true":"false"}).catch((function(t){return p.a.error("could not save preferences",{error:t})})).then((function(){n.loadingOptOutSettings=!1}))},onToggleAutoTagging:function(n){var e,r=this;return(e=ge().mark((function e(){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.toggleAutoTagging=!0,e.prev=1,e.next=4,r.$store.dispatch("savePreference",{key:"tag-classified-messages",value:n.target.checked?"true":"false"});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),p.a.error("could not save preferences",{error:e.t0}),Object(Nt.c)(t("mail","Could not update preference"));case 10:return e.prev=10,r.toggleAutoTagging=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,6,10,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(t){ye(a,r,o,i,s,"next",t)}function s(t){ye(a,r,o,i,s,"throw",t)}i(void 0)}))})()},registerProtocolHandler:function(){if(window.navigator.registerProtocolHandler){var t=window.location.protocol+"//"+window.location.host+Object(k.generateUrl)("apps/mail/compose?uri=%s");try{window.navigator.registerProtocolHandler("mailto",t,OC.theme.name+" Mail")}catch(t){p.a.error("could not register protocol handler",{err:t})}}},showKeyboardShortcuts:function(){this.displayKeyboardShortcuts=!0},closeKeyboardShortcuts:function(){this.displayKeyboardShortcuts=!1},toggleKeyboardShortcuts:function(){this.displayKeyboardShortcuts=!this.displayKeyboardShortcuts}}},Ae=r(1486),xe={insert:"head",singleton:!1},we=(M()(Ae.a,xe),Ae.a.locals,Object(T.a)(be,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("router-link",{staticClass:"icon-add-white app-settings-button button primary new-button",attrs:{to:"/setup"}},[t._v("\n\t\t"+t._s(t.t("mail","Add mail account"))+"\n\t")]),t._v(" "),t.loadingOptOutSettings?e("p",{staticClass:"app-settings"},[e("span",{staticClass:"icon-loading-small"}),t._v("\n\t\t"+t._s(t.optOutSettingsText)+"\n\t")]):e("p",{staticClass:"app-settings"},[e("input",{staticClass:"checkbox",attrs:{id:"data-collection-toggle",type:"checkbox"},domProps:{checked:t.useDataCollection},on:{change:t.onToggleCollectData}}),t._v(" "),e("label",{attrs:{for:"data-collection-toggle"}},[t._v(t._s(t.optOutSettingsText))])]),t._v(" "),t.toggleAutoTagging?e("p",{staticClass:"app-settings"},[e("span",{staticClass:"icon-loading-small"}),t._v("\n\t\t"+t._s(t.autoTaggingText)+"\n\t")]):e("p",{staticClass:"app-settings"},[e("input",{staticClass:"checkbox",attrs:{id:"auto-tagging-toggle",type:"checkbox"},domProps:{checked:t.useAutoTagging},on:{change:t.onToggleAutoTagging}}),t._v(" "),e("label",{attrs:{for:"auto-tagging-toggle"}},[t._v(t._s(t.autoTaggingText))])]),t._v(" "),t.loadingAvatarSettings?e("p",{staticClass:"app-settings avatar-settings"},[e("span",{staticClass:"icon-loading-small"}),t._v("\n\t\t"+t._s(t.t("mail","Use Gravatar and favicon avatars"))+"\n\t")]):e("p",{staticClass:"app-settings"},[e("input",{staticClass:"checkbox",attrs:{id:"gravatar-enabled",type:"checkbox"},domProps:{checked:t.useExternalAvatars},on:{change:t.onToggleExternalAvatars}}),t._v(" "),e("label",{attrs:{for:"gravatar-enabled"}},[t._v(t._s(t.t("mail","Use Gravatar and favicon avatars")))])]),t._v(" "),t.loadingReplySettings?e("p",{staticClass:"app-settings reply-settings"},[e("span",{staticClass:"icon-loading-small"}),t._v("\n\t\t"+t._s(t.replySettingsText)+"\n\t")]):e("p",{staticClass:"app-settings"},[e("input",{staticClass:"checkbox",attrs:{id:"bottom-reply-enabled",type:"checkbox"},domProps:{checked:t.useBottomReplies},on:{change:t.onToggleButtonReplies}}),t._v(" "),e("label",{attrs:{for:"bottom-reply-enabled"}},[t._v(t._s(t.replySettingsText))])]),t._v(" "),e("p",[e("button",{staticClass:"icon-mail app-settings-button",on:{click:t.registerProtocolHandler}},[t._v("\n\t\t\t"+t._s(t.t("mail","Register as application for mail links"))+"\n\t\t")])]),t._v(" "),e("button",{staticClass:"icon-details app-settings-button",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.showKeyboardShortcuts.apply(null,arguments)},shortkey:t.toggleKeyboardShortcuts}},[t._v("\n\t\t"+t._s(t.t("mail","Show keyboard shortcuts"))+"\n\t")]),t._v(" "),t.displayKeyboardShortcuts?e("KeyboardShortcuts",{on:{close:t.closeKeyboardShortcuts}}):t._e(),t._v(" "),e("p",{staticClass:"mailvelope-section"},[t._v("\n\t\t"+t._s(t.t("mail","Looking for a way to encrypt your emails?"))+"\n\n\t\t"),e("a",{staticClass:"icon-password button app-settings-button",attrs:{href:"https://www.mailvelope.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Install Mailvelope browser extension"))+"\n\t\t")])])],1)}),[],!1,null,"6eb9c318",null).exports),Ce=r(23);function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Se=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==_e(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function ke(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}var Ee={name:"Navigation",components:{AppNavigation:a.a,AppNavigationNew:s.a,AppNavigationSettings:l.a,AppNavigationSpacer:d.a,AppSettingsMenu:we,NavigationAccount:mn,NavigationAccountExpandCollapse:wn,NavigationMailbox:ae,NavigationOutbox:de},data:function(){return{refreshing:!1}},computed:{menu:function(){var t=this;return this.$store.getters.accounts.filter((function(t){return t.id!==Ce.d})).map((function(n){var e=t.$store.getters.getMailboxes(n.id),r=e.filter((function(e){return t.isCollapsed(n,e)})).length>1;return{id:n.id,account:n,mailboxes:e,isCollapsible:r}}))},currentMailbox:function(){if("message"===this.$route.name||"mailbox"===this.$route.name)return this.$store.getters.getMailbox(this.$route.params.mailboxId)},unifiedAccount:function(){return this.$store.getters.getAccount(Ce.d)},unifiedMailboxes:function(){return this.$store.getters.getMailboxes(Ce.d)}},methods:{isCollapsed:function(t,n){return"inbox"!==n.specialRole&&(n.databaseId!==t.draftsMailboxId&&n.databaseId!==t.sentMailboxId&&n.databaseId!==t.trashMailboxId)},onNewMessage:function(){this.$store.dispatch("showMessageComposer",{})},isFirst:function(t){return t===this.$store.getters.accounts[1]},isLast:function(t){var n=this.$store.getters.accounts;return t===n[n.length-1]},refreshMailbox:function(){var t,n=this;return(t=Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==n.refreshing){t.next=3;break}return p.a.debug("already sync'ing mailbox.. aborting"),t.abrupt("return");case 3:return n.refreshing=!0,t.prev=4,t.next=7,n.$store.dispatch("syncEnvelopes",{mailboxId:n.currentMailbox.databaseId});case 7:p.a.debug("Current mailbox is sync'ing "),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),p.a.error("could not sync current mailbox",{error:t.t0});case 13:return t.prev=13,n.refreshing=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[4,10,13,16]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){ke(a,r,o,i,s,"next",t)}function s(t){ke(a,r,o,i,s,"throw",t)}i(void 0)}))})()}}},Le=r(1487),Oe={insert:"head",singleton:!1},Pe=(M()(Le.a,Oe),Le.a.locals,Object(T.a)(Ee,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("AppNavigation",{scopedSlots:t._u([{key:"list",fn:function(){return[e("ul",{attrs:{id:"accounts-list"}},[t._l(t.unifiedMailboxes,(function(n){return e("NavigationMailbox",{key:"mailbox-"+n.databaseId,attrs:{account:t.unifiedAccount,mailbox:n}})})),t._v(" "),e("NavigationOutbox"),t._v(" "),e("AppNavigationSpacer"),t._v(" "),t._l(t.menu,(function(n){return[n.account?e("NavigationAccount",{key:n.account.id,attrs:{account:n.account,"first-mailbox":n.mailboxes[0],"is-first":t.isFirst(n.account),"is-last":t.isLast(n.account)}}):t._e(),t._v(" "),t._l(n.mailboxes,(function(r){return[e("NavigationMailbox",{directives:[{name:"show",rawName:"v-show",value:!n.isCollapsible||!n.account.collapsed||!t.isCollapsed(n.account,r),expression:"\n\t\t\t\t\t\t\t!group.isCollapsible ||\n\t\t\t\t\t\t\t\t!group.account.collapsed ||\n\t\t\t\t\t\t\t\t!isCollapsed(group.account, item)\n\t\t\t\t\t\t"}],key:"mailbox-"+r.databaseId,attrs:{account:n.account,mailbox:r}}),t._v(" "),n.account.isUnified||"inbox"!==r.specialRole?t._e():e("NavigationMailbox",{key:r.databaseId+"-starred",attrs:{account:n.account,mailbox:r,filter:"starred"}})]})),t._v(" "),!n.account.isUnified&&n.isCollapsible?e("NavigationAccountExpandCollapse",{key:"collapse-"+n.account.id,attrs:{account:n.account}}):t._e(),t._v(" "),e("AppNavigationSpacer",{key:"spacer-"+n.account.id})]}))],2)]},proxy:!0},{key:"footer",fn:function(){return[e("AppNavigationSettings",{attrs:{title:t.t("mail","Settings")}},[e("AppSettingsMenu")],1)]},proxy:!0}])},[e("AppNavigationNew",{attrs:{text:t.t("mail","New message"),disabled:t.$store.getters.showMessageComposer,"button-id":"mail_new_message","button-class":"icon-add",role:"complementary"},on:{click:t.onNewMessage}}),t._v(" "),t.currentMailbox?e("button",{staticClass:"button icon-history",attrs:{disabled:t.refreshing},on:{click:t.refreshMailbox}}):t._e()],1)}),[],!1,null,"21a5627e",null));e.a=Pe.exports},1235:function(t,n,e){"use strict";var r=e(1395),o=e.n(r),a=e(1509),i=e(1522),s=e(1494),c=e(1510),l=e(1519),u=e(1492),d=e(1084),p=e(1495),f=e(1520),h=e(1491),m=e(1493),v=e(1511),g=e(899);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return A(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return A(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==e.return||e.return()}finally{if(s)throw a}}}}function A(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function x(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function w(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,n){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function _(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=k(t);if(n){var o=k(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return S(this,e)}}function S(t,n){if(n&&("object"===y(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&C(t,n)}(a,t);var n,e,r,o=_(a);function a(){return x(this,a),o.apply(this,arguments)}return n=a,(e=[{key:"removeSignatureElement",value:function(t,n){var e,r=b(t.model.createRangeIn(t.model.document.getRoot()).getWalker({shallow:!0}));try{for(r.s();!(e=r.n()).done;){var o=e.value;o.item.is("element")&&"signature"===o.item.name&&n.remove(o.item)}}catch(t){r.e(t)}finally{r.f()}}},{key:"insertSignatureElement",value:function(t,n,e,r){if(0!==e.length){var o=t.data.processor.toView(e),a=t.data.toModel(o),i=n.createElement("signature");n.append(n.createText("-- "),i),n.append(n.createElement("paragraph"),i),n.append(a,i),r&&n.append(n.createElement("paragraph"),i);var s=r?this.findPositionAboveQuote(t,n):n.createPositionAt(t.model.document.getRoot(),"end");t.model.insertContent(i,s)}}},{key:"findPositionAboveQuote",value:function(t,n){var e,r=b(t.model.createRangeIn(t.model.document.getRoot()).getWalker({shallow:!0}));try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o.item.is("element")&&"quote"===o.item.name)return n.createPositionBefore(o.item)}}catch(t){r.e(t)}finally{r.f()}return n.createPositionAt(t.model.document.getRoot(),"end")}},{key:"execute",value:function(t){var n=this,e=t.signature,r=t.signatureAboveQuote;this.editor.model.change((function(t){n.removeSignatureElement(n.editor,t),n.insertSignatureElement(n.editor,t,e,r)}))}},{key:"refresh",value:function(){this.isEnabled=!0}}])&&w(n.prototype,e),r&&w(n,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(e(915).a);function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function P(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,n){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function M(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=N(t);if(n){var o=N(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return I(this,e)}}function I(t,n){if(n&&("object"===L(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&j(t,n)}(a,t);var n,e,r,o=M(a);function a(){return O(this,a),o.apply(this,arguments)}return n=a,(e=[{key:"init",value:function(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("insertSignature",new E(this.editor))}},{key:"_defineSchema",value:function(){this.editor.model.schema.register("signature",{allowIn:"$root",isLimit:!0,allowContentOf:"$block"})}},{key:"_defineConverters",value:function(){this.editor.conversion.elementToElement({model:"signature",view:{name:"div",classes:"signature"}})}}])&&P(n.prototype,e),r&&P(n,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(g.a),B=e(1521);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function G(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t,n){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function q(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=R(t);if(n){var o=R(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return U(this,e)}}function U(t,n){if(n&&("object"===F(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @copyright 2021 Silvio Zimmer <silvio.zimmer@die-kinderwelt.com>
 *
 * @author 2021 Silvio Zimmer <silvio.zimmer@die-kinderwelt.com>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This code is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License, version 3,
 * as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License, version 3,
 * along with this program.  If not, see <http://www.gnu.org/licenses/>
 *
 */var H=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&$(t,n)}(a,t);var n,e,r,o=q(a);function a(){return D(this,a),o.apply(this,arguments)}return n=a,(e=[{key:"init",value:function(){this._defineSchema(),this._defineConverters()}},{key:"_defineSchema",value:function(){this.editor.model.schema.register("quote",{inheritAllFrom:"$block"})}},{key:"_defineConverters",value:function(){this.editor.conversion.elementToElement({model:"quote",view:{name:"div",classes:"quote"}})}}])&&G(n.prototype,e),r&&G(n,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(g.a),Y=e(31),z=e(1436),V=e.n(z),Q=e(9);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */K=function(){return t};var t={},n=Object.prototype,e=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,e){return t[n]=e}}function c(t,n,e,r){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(t,n,e){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var s=A(i,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=l(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}(t,e,i),a}function l(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==n&&e.call(v,o)&&(h=v);var g=f.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){var r;this._invoke=function(o,a){function i(){return new n((function(r,i){!function r(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==W(d)&&e.call(d,"__await")?n.resolve(d.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):n.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function A(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,A(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,a){void 0===a&&(a=Promise);var i=new b(c(n,e,r,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=e.call(a,"catchLoc"),c=e.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),u},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),u}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;w(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function J(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}var Z={name:"TextEditor",components:{ckeditor:o.a.component},props:{value:{type:String,required:!0},html:{type:Boolean,default:!1},placeholder:{type:String,default:""},focus:{type:Boolean,default:!1},bus:{type:Object,required:!0}},data:function(){var t=[s.a,d.a,T,H],n=["undo","redo"];return this.html&&(t.push.apply(t,[p.a,a.a,l.a,f.a,c.a,h.a,m.a,u.a,v.a,B.a]),n.unshift.apply(n,["heading","fontFamily","fontSize","bold","italic","fontColor","alignment","bulletedList","numberedList","blockquote","fontBackgroundColor","strikethrough","link","removeFormat"])),{text:"",ready:!1,editor:i.a,config:{placeholder:this.placeholder,plugins:t,toolbar:{items:n},language:"en"}}},computed:{sanitizedValue:function(){return V.a.sanitize(this.value,{FORBID_TAGS:["style"]})}},watch:{sanitizedValue:function(t){this.text=t}},beforeMount:function(){this.loadEditorTranslations(Object(Y.getLanguage)())},methods:{loadEditorTranslations:function(t){var n,r=this;return(n=K().mark((function n(){return K().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("en"!==t){n.next=2;break}return n.abrupt("return",r.showEditor("en"));case 2:return n.prev=2,Q.a.debug("loading ".concat(t," translations for CKEditor")),n.next=6,e(1437)("./".concat(t));case 6:r.showEditor(t),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),Q.a.error('could not find CKEditor translations for "'.concat(t,'"'),{error:n.t0}),r.showEditor("en");case 13:case"end":return n.stop()}}),n,null,[[2,9]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(t){J(a,r,o,i,s,"next",t)}function s(t){J(a,r,o,i,s,"throw",t)}i(void 0)}))})()},showEditor:function(t){Q.a.debug('using "'.concat(t,'" as CKEditor language')),this.config.language=t,this.ready=!0},onEditorReady:function(t){var n=t.model.schema;Q.a.debug("CKEditor editor is ready",{editor:t,schema:n}),this.editorInstance=t,t.conversion.for("downcast").add((function(t){t.on("insert:paragraph",(function(t,n,e){e.writer.setStyle("margin","0",e.mapper.toViewElement(n.item))}),{priority:"low"})})),n.on("checkChild",(function(t,n){n[0].endsWith("blockQuote")&&(t.stop(),t.return=!0)}),{priority:"highest"}),this.focus&&(Q.a.debug("focusing TextEditor"),t.editing.view.focus()),this.text=this.sanitizedValue,Q.a.debug("setting TextEditor contents to <".concat(this.text,">")),this.bus.$on("appendToBodyAtCursor",this.appendToBodyAtCursor),this.bus.$on("insertSignature",this.onInsertSignature)},onInput:function(){Q.a.debug("TextEditor input changed to <".concat(this.text,">")),this.$emit("input",this.text)},appendToBodyAtCursor:function(t){var n=this.editorInstance.data.processor.toView(t),e=this.editorInstance.data.toModel(n);this.editorInstance.model.insertContent(e)},onInsertSignature:function(t,n){this.editorInstance.execute("insertSignature",{signature:t,signatureAboveQuote:n})}}},X=e(39),tt=e.n(X),nt=e(1438),et={insert:"head",singleton:!1},rt=(tt()(nt.a,et),nt.a.locals,e(29)),ot=Object(rt.a)(Z,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.ready?e("ckeditor",{attrs:{config:t.config,editor:t.editor},on:{input:t.onInput,ready:t.onEditorReady},model:{value:t.text,callback:function(n){t.text=n},expression:"text"}}):t._e()}),[],!1,null,"106dc7cb",null);n.a=ot.exports},1237:function(n,e,r){"use strict";var o=r(1447),a=r(9);function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function s(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){c(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function c(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var l={name:"AccountForm",components:{Tab:o.Tab,Tabs:o.Tabs},props:{displayName:{type:String,default:""},email:{type:String,default:""},save:{type:Function,required:!0},account:{type:Object,required:!1,default:function(){}}},data:function(){var t=this,n=function(n,e){return void 0!==t.account?t.account[n]:e};return{loading:!1,mode:"auto",autoConfig:{accountName:this.displayName,emailAddress:this.email,password:""},manualConfig:{accountName:"",emailAddress:"",imapHost:n("imapHost",""),imapPort:n("imapPort",993),imapSslMode:n("imapSslMode","ssl"),imapUser:n("imapUser",""),imapPassword:"",smtpHost:n("smtpHost",""),smtpPort:n("smtpPort",587),smtpSslMode:n("smtpSslMode","tls"),smtpUser:n("smtpUser",""),smtpPassword:""}}},computed:{settingsPage:function(){return void 0!==this.account},isDisabledAuto:function(){switch("auto"===this.mode){case!this.autoConfig.emailAddress||!this.isValidEmail(this.autoConfig.emailAddress)||!this.autoConfig.password:return!0}return this.loading},isDisabledManual:function(){switch("manual"===this.mode){case!(this.manualConfig.emailAddress&&this.isValidEmail(this.manualConfig.emailAddress)&&this.manualConfig.imapHost&&this.manualConfig.imapPort&&this.manualConfig.imapUser&&this.manualConfig.imapPassword&&this.manualConfig.smtpHost&&this.manualConfig.smtpPort&&this.manualConfig.smtpUser&&this.manualConfig.smtpPassword):return!0}return this.loading},submitButtonText:function(){return this.loading?t("mail","Connecting"):this.account?t("mail","Save"):t("mail","Connect")}},methods:{onModeChanged:function(t){this.mode=t.tab.id,"manual"===this.mode&&(""===this.manualConfig.accountName&&(this.manualConfig.accountName=this.autoConfig.accountName),""===this.manualConfig.emailAddress&&(this.manualConfig.emailAddress=this.autoConfig.emailAddress),""===this.manualConfig.imapUser&&(this.manualConfig.imapUser=this.autoConfig.emailAddress),""===this.manualConfig.imapPassword&&(this.manualConfig.imapPassword=this.autoConfig.password),""===this.manualConfig.smtpUser&&(this.manualConfig.smtpUser=this.autoConfig.emailAddress),""===this.manualConfig.smtpPassword&&(this.manualConfig.smtpPassword=this.autoConfig.password))},onImapSslModeChange:function(){switch(this.manualConfig.imapSslMode){case"none":case"tls":this.manualConfig.imapPort=143;break;case"ssl":this.manualConfig.imapPort=993}},onSmtpSslModeChange:function(){switch(this.manualConfig.smtpSslMode){case"none":case"tls":this.manualConfig.smtpPort=587;break;case"ssl":this.manualConfig.smtpPort=465}},saveChanges:function(){return"auto"===this.mode?this.save(s({autoDetect:!0},this.autoConfig)):this.save(s(s({autoDetect:!1},this.manualConfig),{},{imapHost:this.manualConfig.imapHost.trim(),smtpHost:this.manualConfig.smtpHost.trim()}))},onSubmit:function(t){var n=this;this.isDisabledManual&&this.isDisabledAuto||(console.debug("account form submitted",{event:t}),this.loading=!0,this.saveChanges().catch((function(t){return a.a.error("could not save account details",{error:t})})).then((function(){return n.loading=!1})))},isValidEmail:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}}},u=r(39),d=r.n(u),p=r(1448),f={insert:"head",singleton:!1},h=(d()(p.a,f),p.a.locals,r(1449)),m={insert:"head",singleton:!1},v=(d()(h.a,m),h.a.locals,r(29)),g=Object(v.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("form",{attrs:{id:"account-form"},on:{submit:function(n){return n.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("Tabs",{attrs:{options:{useUrlFragment:!1,defaultTabHash:t.settingsPage?"manual":"auto"},"cache-lifetime":"0"},on:{changed:t.onModeChanged}},[e("Tab",{key:"auto",attrs:{id:"auto",name:t.t("mail","Auto")}},[e("label",{attrs:{for:"auto-name"}},[t._v(t._s(t.t("mail","Name")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoConfig.accountName,expression:"autoConfig.accountName"}],attrs:{id:"auto-name",type:"text",placeholder:t.t("mail","Name"),disabled:t.loading,autofocus:""},domProps:{value:t.autoConfig.accountName},on:{input:function(n){n.target.composing||t.$set(t.autoConfig,"accountName",n.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"auto-address"}},[t._v(t._s(t.t("mail","Mail address")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.autoConfig.emailAddress,expression:"autoConfig.emailAddress",modifiers:{lazy:!0}}],attrs:{id:"auto-address",type:"email",placeholder:t.t("mail","name@example.org"),disabled:t.loading,required:""},domProps:{value:t.autoConfig.emailAddress},on:{blur:function(n){return t.isValidEmail(t.autoConfig.emailAddress)},change:function(n){return t.$set(t.autoConfig,"emailAddress",n.target.value)}}}),t._v(" "),t.isValidEmail(t.autoConfig.emailAddress)?t._e():e("p",{staticClass:"account-form--error"},[t._v("\n\t\t\t\t"+t._s(t.t("mail","Please enter an email of the format name@example.com"))+"\n\t\t\t")]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"auto-password"}},[t._v(t._s(t.t("mail","Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoConfig.password,expression:"autoConfig.password"}],attrs:{id:"auto-password",type:"password",placeholder:t.t("mail","Password"),disabled:t.loading,required:""},domProps:{value:t.autoConfig.password},on:{input:function(n){n.target.composing||t.$set(t.autoConfig,"password",n.target.value)}}})]),t._v(" "),e("Tab",{key:"manual",attrs:{id:"manual",name:t.t("mail","Manual")}},[e("label",{attrs:{for:"man-name"}},[t._v(t._s(t.t("mail","Name")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.accountName,expression:"manualConfig.accountName"}],attrs:{id:"man-name",type:"text",placeholder:t.t("mail","Name"),disabled:t.loading},domProps:{value:t.manualConfig.accountName},on:{input:function(n){n.target.composing||t.$set(t.manualConfig,"accountName",n.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-address"}},[t._v(t._s(t.t("mail","Mail address")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.manualConfig.emailAddress,expression:"manualConfig.emailAddress",modifiers:{lazy:!0}}],attrs:{id:"man-address",type:"email",placeholder:t.t("mail","name@example.org"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.emailAddress},on:{blur:function(n){return t.isValidEmail(t.manualConfig.emailAddress)},change:function(n){return t.$set(t.manualConfig,"emailAddress",n.target.value)}}}),t._v(" "),t.isValidEmail(t.manualConfig.emailAddress)?t._e():e("p",{staticClass:"account-form--error"},[t._v("\n\t\t\t\t"+t._s(t.t("mail","Please enter an email of the format name@example.com"))+"\n\t\t\t")]),t._v(" "),e("h3",[t._v(t._s(t.t("mail","IMAP Settings")))]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-imap-host"}},[t._v(t._s(t.t("mail","IMAP Host")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapHost,expression:"manualConfig.imapHost"}],attrs:{id:"man-imap-host",type:"text",placeholder:t.t("mail","IMAP Host"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.imapHost},on:{input:function(n){n.target.composing||t.$set(t.manualConfig,"imapHost",n.target.value)}}}),t._v(" "),e("h4",{staticClass:"account-form__heading--required"},[t._v("\n\t\t\t\t"+t._s(t.t("mail","IMAP Security"))+"\n\t\t\t")]),t._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-none",type:"radio",name:"man-imap-sec",disabled:t.loading,value:"none"},domProps:{checked:t._q(t.manualConfig.imapSslMode,"none")},on:{change:[function(n){return t.$set(t.manualConfig,"imapSslMode","none")},t.onImapSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"none"===t.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-none"}},[t._v(t._s(t.t("mail","None")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-ssl",type:"radio",name:"man-imap-sec",disabled:t.loading,value:"ssl"},domProps:{checked:t._q(t.manualConfig.imapSslMode,"ssl")},on:{change:[function(n){return t.$set(t.manualConfig,"imapSslMode","ssl")},t.onImapSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===t.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-ssl"}},[t._v(t._s(t.t("mail","SSL/TLS")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-tls",type:"radio",name:"man-imap-sec",disabled:t.loading,value:"tls"},domProps:{checked:t._q(t.manualConfig.imapSslMode,"tls")},on:{change:[function(n){return t.$set(t.manualConfig,"imapSslMode","tls")},t.onImapSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===t.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-tls"}},[t._v(t._s(t.t("mail","STARTTLS")))])]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-imap-port"}},[t._v(t._s(t.t("mail","IMAP Port")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapPort,expression:"manualConfig.imapPort"}],attrs:{id:"man-imap-port",type:"number",placeholder:t.t("mail","IMAP Port"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.imapPort},on:{input:function(n){n.target.composing||t.$set(t.manualConfig,"imapPort",n.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-imap-user"}},[t._v(t._s(t.t("mail","IMAP User")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapUser,expression:"manualConfig.imapUser"}],attrs:{id:"man-imap-user",type:"text",placeholder:t.t("mail","IMAP User"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.imapUser},on:{input:function(n){n.target.composing||t.$set(t.manualConfig,"imapUser",n.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-imap-password"}},[t._v(t._s(t.t("mail","IMAP Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapPassword,expression:"manualConfig.imapPassword"}],attrs:{id:"man-imap-password",type:"password",placeholder:t.t("mail","IMAP Password"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.imapPassword},on:{input:function(n){n.target.composing||t.$set(t.manualConfig,"imapPassword",n.target.value)}}}),t._v(" "),e("h3",[t._v(t._s(t.t("mail","SMTP Settings")))]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-smtp-host"}},[t._v(t._s(t.t("mail","SMTP Host")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpHost,expression:"manualConfig.smtpHost"}],ref:"smtpHost",attrs:{id:"man-smtp-host",type:"text",name:"smtp-host",placeholder:t.t("mail","SMTP Host"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.smtpHost},on:{input:function(n){n.target.composing||t.$set(t.manualConfig,"smtpHost",n.target.value)}}}),t._v(" "),e("h4",{staticClass:"account-form__heading--required"},[t._v("\n\t\t\t\t"+t._s(t.t("mail","SMTP Security"))+"\n\t\t\t")]),t._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-none",type:"radio",name:"man-smtp-sec",disabled:t.loading,value:"none"},domProps:{checked:t._q(t.manualConfig.smtpSslMode,"none")},on:{change:[function(n){return t.$set(t.manualConfig,"smtpSslMode","none")},t.onSmtpSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"none"===t.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-none"}},[t._v(t._s(t.t("mail","None")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-ssl",type:"radio",name:"man-smtp-sec",disabled:t.loading,value:"ssl"},domProps:{checked:t._q(t.manualConfig.smtpSslMode,"ssl")},on:{change:[function(n){return t.$set(t.manualConfig,"smtpSslMode","ssl")},t.onSmtpSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===t.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-ssl"}},[t._v(t._s(t.t("mail","SSL/TLS")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-tls",type:"radio",name:"man-smtp-sec",disabled:t.loading,value:"tls"},domProps:{checked:t._q(t.manualConfig.smtpSslMode,"tls")},on:{change:[function(n){return t.$set(t.manualConfig,"smtpSslMode","tls")},t.onSmtpSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===t.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-tls"}},[t._v(t._s(t.t("mail","STARTTLS")))])]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-smtp-port"}},[t._v(t._s(t.t("mail","SMTP Port")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpPort,expression:"manualConfig.smtpPort"}],attrs:{id:"man-smtp-port",type:"number",placeholder:t.t("mail","SMTP Port"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.smtpPort},on:{input:function(n){n.target.composing||t.$set(t.manualConfig,"smtpPort",n.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-smtp-user"}},[t._v(t._s(t.t("mail","SMTP User")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpUser,expression:"manualConfig.smtpUser"}],attrs:{id:"man-smtp-user",type:"text",placeholder:t.t("mail","SMTP User"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.smtpUser},on:{input:function(n){n.target.composing||t.$set(t.manualConfig,"smtpUser",n.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-smtp-password"}},[t._v(t._s(t.t("mail","SMTP Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpPassword,expression:"manualConfig.smtpPassword"}],attrs:{id:"man-smtp-password",type:"password",placeholder:t.t("mail","SMTP Password"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.smtpPassword},on:{input:function(n){n.target.composing||t.$set(t.manualConfig,"smtpPassword",n.target.value)}}})])],1),t._v(" "),e("div",{staticClass:"account-form__submit-buttons"},["auto"===t.mode?e("button",{staticClass:"primary account-form__submit-button",attrs:{type:"submit",disabled:t.isDisabledAuto},on:{click:function(n){return n.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t.loading?e("span",{staticClass:"icon-loading-small account-form__submit-button__spinner"}):t._e(),t._v("\n\t\t\t"+t._s(t.submitButtonText)+"\n\t\t")]):"manual"===t.mode?e("button",{staticClass:"primary account-form__submit-button",attrs:{type:"submit",disabled:t.isDisabledManual},on:{click:function(n){return n.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t.loading?e("span",{staticClass:"icon-loading-small account-form__submit-button__spinner"}):t._e(),t._v("\n\t\t\t"+t._s(t.submitButtonText)+"\n\t\t")]):t._e()]),t._v(" "),e("div",{staticClass:"account-form--feedback"},[t._t("feedback")],2)],1)}),[],!1,null,"9a5bb97a",null);e.a=g.exports},1238:function(t,n,e){"use strict";var r=e(943),o=e.n(r),a=e(31),i=e(1109),s={name:"MailboxPicker",components:{Modal:o.a},props:{account:{type:Object,required:!0},selected:{type:Number,required:!1,default:void 0},loading:{type:Boolean,required:!1,default:!1},labelSelect:{type:String,default:Object(a.translate)("mail","Choose")},labelSelectLoading:{type:String,default:Object(a.translate)("mail","Choose")},pickedMailbox:{type:Object,required:!1,default:function(){}},allowRoot:{type:Boolean,default:!1}},data:function(){return{selectedMailboxId:void 0,mailboxCrumbs:[]}},computed:{mailboxes:function(){return this.selectedMailboxId?this.$store.getters.getSubMailboxes(this.selectedMailboxId):this.$store.getters.getMailboxes(this.account.accountId)},filteredMailboxes:function(){var t=this;return this.pickedMailbox?this.mailboxes.filter((function(n){return n.databaseId!==t.pickedMailbox.databaseId})):this.mailboxes}},methods:{getMailboxIcon:function(t){return t.specialRole?"icon-"+t.specialRole:"icon-folder"},getMailboxTitle:function(t){return Object(i.a)(t)},onClickHome:function(){this.selectedMailboxId=void 0,this.$emit("update:selected",void 0),this.mailboxCrumbs=[]},onClickCrumb:function(t){this.selectedMailboxId=this.mailboxCrumbs[t].databaseId,this.$emit("update:selected",this.selectedMailboxId),this.mailboxCrumbs=this.mailboxCrumbs.slice(0,t+1)},onClickMailbox:function(t){this.selectedMailboxId=t.databaseId,this.$emit("update:selected",this.selectedMailboxId),this.mailboxCrumbs.push(t)},onSelect:function(){this.$emit("select",this.selectedMailboxId)},onClose:function(){this.$emit("close")}}},c=e(39),l=e.n(c),u=e(1266),d={insert:"head",singleton:!1},p=(l()(u.a,d),u.a.locals,e(29)),f=Object(p.a)(s,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("Modal",{on:{close:t.onClose}},[e("div",{ref:"content",staticClass:"modal-content"},[e("h2",{staticClass:"oc-dialog-title"},[t._v("\n\t\t\t"+t._s(t.t("mail","Choose target mailbox"))+"\n\t\t")]),t._v(" "),e("span",{staticClass:"crumbs"},[e("div",{staticClass:"level icon-breadcrumb"},[e("a",{staticClass:"icon-home",on:{click:function(n){return n.preventDefault(),t.onClickHome.apply(null,arguments)}}})]),t._v(" "),t._l(t.mailboxCrumbs,(function(n,r){return e("div",{key:n.databaseId,staticClass:"level icon-breadcrumb"},[e("a",{on:{click:function(n){return n.preventDefault(),t.onClickCrumb(r)}}},[t._v("\n\t\t\t\t\t"+t._s(t.getMailboxTitle(n))+"\n\t\t\t\t")])])}))],2),t._v(" "),e("div",{staticClass:"mailbox-list"},[t.filteredMailboxes.length>0?e("ul",t._l(t.filteredMailboxes,(function(n){return e("li",{key:n.databaseId,on:{click:function(e){return e.preventDefault(),t.onClickMailbox(n)}}},[e("div",{class:["mailbox-icon",t.getMailboxIcon(n)]}),t._v(" "),e("div",{staticClass:"mailbox-title"},[t._v("\n\t\t\t\t\t\t"+t._s(t.getMailboxTitle(n))+"\n\t\t\t\t\t")])])})),0):e("div",{staticClass:"empty"},[e("div",{staticClass:"empty-icon icon-folder"}),t._v(" "),e("h2",[t._v(t._s(t.t("mail","No more submailboxes in here")))])])]),t._v(" "),e("div",{staticClass:"buttons"},[e("button",{staticClass:"primary",attrs:{disabled:t.loading||!t.allowRoot&&!t.selectedMailboxId},on:{click:t.onSelect}},[t.loading?e("span",{staticClass:"icon-loading-small spinner"}):t._e(),t._v("\n\t\t\t\t"+t._s(t.loading?t.labelSelectLoading:t.labelSelect)+"\n\t\t\t")])])])])}),[],!1,null,"84d66076",null);n.a=f.exports},1266:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"[data-v-84d66076] .modal-container{width:calc(100vw - 120px) !important;height:calc(100vh - 120px) !important;max-width:600px !important;max-height:500px !important}.modal-content[data-v-84d66076]{display:flex;box-sizing:border-box;width:100%;height:100%;flex-direction:column;padding:15px}.crumbs[data-v-84d66076]{display:inline-flex;padding-left:12px;padding-right:0px;flex-wrap:wrap}.crumbs .level[data-v-84d66076]{display:inline-flex;height:44px;min-width:0px;flex:0 0 auto;order:1;padding-right:7px;background-position:right center;background-size:auto 24px}.crumbs a[data-v-84d66076]{position:relative;padding:12px;opacity:.5;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:0 0 auto;min-width:0px;max-width:200px}.crumbs a[data-v-84d66076]:hover{opacity:.7}.crumbs a.icon-home[data-v-84d66076]{width:0px;background-position:left center}.mailbox-list[data-v-84d66076]{display:inline-block;width:100%;height:100%;overflow-y:auto;flex:1}.mailbox-list li[data-v-84d66076]{display:flex;cursor:pointer}.mailbox-list li[data-v-84d66076]:hover{background-color:var(--color-background-hover)}.mailbox-list li[data-v-84d66076]:not(:last-child){border-bottom:1px solid var(--color-border)}.mailbox-list .empty[data-v-84d66076]{width:100%;color:var(--color-text-maxcontrast);text-align:center;margin-top:80px}.mailbox-list .empty-icon[data-v-84d66076]{opacity:.4;background-size:64px;height:64px;width:64px;margin:0 auto 15px}.mailbox-list .mailbox-icon[data-v-84d66076]{width:24px;height:24px;padding:14px;opacity:.9;background-size:24px}.mailbox-list .mailbox-title[data-v-84d66076]{padding:14px 14px 14px 0;flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.buttons[data-v-84d66076]{display:flex;justify-content:flex-end;padding-top:10px}.buttons .spinner[data-v-84d66076]{margin-right:5px}","",{version:3,sources:["webpack://./src/components/MailboxPicker.vue"],names:[],mappings:"AA+IA,mCACC,oCAAA,CACA,qCAAA,CACA,0BAAA,CACA,2BAAA,CAGD,gCACC,YAAA,CACA,qBAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,YAAA,CAGD,yBACC,mBAAA,CACA,iBAAA,CACA,iBAAA,CACA,cAAA,CAEA,gCACC,mBAAA,CACA,WAAA,CACA,aAAA,CACA,aAAA,CACA,OAAA,CACA,iBAAA,CACA,gCAAA,CACA,yBAAA,CAGD,2BACC,iBAAA,CACA,YAAA,CACA,UAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,aAAA,CACA,aAAA,CACA,eAAA,CAEA,iCACC,UAAA,CAIF,qCACC,SAAA,CACA,+BAAA,CAIF,+BACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,MAAA,CAEA,kCACC,YAAA,CACA,cAAA,CAEA,wCACC,8CAAA,CAGD,mDACC,2CAAA,CAIF,sCACC,UAAA,CACA,mCAAA,CACA,iBAAA,CACA,eAAA,CAGD,2CACC,UAAA,CACA,oBAAA,CACA,WAAA,CACA,UAAA,CACA,kBAAA,CAGD,6CACC,UAAA,CACA,WAAA,CACA,YAAA,CACA,UAAA,CACA,oBAAA,CAGD,8CACC,wBAAA,CACA,MAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CAIF,0BACC,YAAA,CACA,wBAAA,CACA,gBAAA,CAEA,mCACC,gBAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::v-deep .modal-container {\n\twidth: calc(100vw - 120px) !important;\n\theight: calc(100vh - 120px) !important;\n\tmax-width: 600px !important;\n\tmax-height: 500px !important;\n}\n\n.modal-content {\n\tdisplay: flex;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\tflex-direction: column;\n\tpadding: 15px;\n}\n\n.crumbs {\n\tdisplay: inline-flex;\n\tpadding-left: 12px;\n\tpadding-right: 0px;\n\tflex-wrap: wrap;\n\n\t.level {\n\t\tdisplay: inline-flex;\n\t\theight: 44px;\n\t\tmin-width: 0px;\n\t\tflex: 0 0 auto;\n\t\torder: 1;\n\t\tpadding-right: 7px;\n\t\tbackground-position: right center;\n\t\tbackground-size: auto 24px;\n\t}\n\n\ta {\n\t\tposition: relative;\n\t\tpadding: 12px;\n\t\topacity: 0.5;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\tflex: 0 0 auto;\n\t\tmin-width: 0px;\n\t\tmax-width: 200px;\n\n\t\t&:hover {\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n\n\ta.icon-home {\n\t\twidth: 0px;\n\t\tbackground-position: left center;\n\t}\n}\n\n.mailbox-list {\n\tdisplay: inline-block;\n\twidth: 100%;\n\theight: 100%;\n\toverflow-y: auto;\n\tflex: 1;\n\n\tli {\n\t\tdisplay: flex;\n\t\tcursor: pointer;\n\n\t\t&:hover {\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t}\n\n\t\t&:not(:last-child) {\n\t\t\tborder-bottom: 1px solid var(--color-border);\n\t\t}\n\t}\n\n\t.empty {\n\t\twidth: 100%;\n\t\tcolor: var(--color-text-maxcontrast);\n\t\ttext-align: center;\n\t\tmargin-top: 80px;\n\t}\n\n\t.empty-icon {\n\t\topacity: 0.4;\n\t\tbackground-size: 64px;\n\t\theight: 64px;\n\t\twidth: 64px;\n\t\tmargin: 0 auto 15px;\n\t}\n\n\t.mailbox-icon {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tpadding: 14px;\n\t\topacity: 0.9;\n\t\tbackground-size: 24px;\n\t}\n\n\t.mailbox-title {\n\t\tpadding: 14px 14px 14px 0;\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n.buttons {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tpadding-top: 10px;\n\n\t.spinner {\n\t\tmargin-right: 5px;\n\t}\n}\n"],sourceRoot:""}]),n.a=i},1437:function(t,n,e){var r={"./af":1167,"./af.js":1167,"./ar":1168,"./ar.js":1168,"./ast":1169,"./ast.js":1169,"./az":1170,"./az.js":1170,"./bg":1171,"./bg.js":1171,"./bs":1172,"./bs.js":1172,"./ca":1173,"./ca.js":1173,"./cs":1174,"./cs.js":1174,"./da":1175,"./da.js":1175,"./de":1177,"./de-ch":1176,"./de-ch.js":1176,"./de.js":1177,"./el":1178,"./el.js":1178,"./en-au":1179,"./en-au.js":1179,"./en-gb":1180,"./en-gb.js":1180,"./eo":1181,"./eo.js":1181,"./es":1182,"./es.js":1182,"./et":1183,"./et.js":1183,"./eu":1184,"./eu.js":1184,"./fa":1185,"./fa.js":1185,"./fi":1186,"./fi.js":1186,"./fr":1187,"./fr.js":1187,"./gl":1188,"./gl.js":1188,"./gu":1189,"./gu.js":1189,"./he":1190,"./he.js":1190,"./hi":1191,"./hi.js":1191,"./hr":1192,"./hr.js":1192,"./hu":1193,"./hu.js":1193,"./id":1194,"./id.js":1194,"./it":1195,"./it.js":1195,"./ja":1196,"./ja.js":1196,"./jv":1197,"./jv.js":1197,"./km":1198,"./km.js":1198,"./kn":1199,"./kn.js":1199,"./ko":1200,"./ko.js":1200,"./ku":1201,"./ku.js":1201,"./lt":1202,"./lt.js":1202,"./lv":1203,"./lv.js":1203,"./ms":1204,"./ms.js":1204,"./nb":1205,"./nb.js":1205,"./ne":1206,"./ne.js":1206,"./nl":1207,"./nl.js":1207,"./no":1208,"./no.js":1208,"./oc":1209,"./oc.js":1209,"./pl":1210,"./pl.js":1210,"./pt":1212,"./pt-br":1211,"./pt-br.js":1211,"./pt.js":1212,"./ro":1213,"./ro.js":1213,"./ru":1214,"./ru.js":1214,"./si":1215,"./si.js":1215,"./sk":1216,"./sk.js":1216,"./sl":1217,"./sl.js":1217,"./sq":1218,"./sq.js":1218,"./sr":1220,"./sr-latn":1219,"./sr-latn.js":1219,"./sr.js":1220,"./sv":1221,"./sv.js":1221,"./th":1222,"./th.js":1222,"./tk":1223,"./tk.js":1223,"./tr":1224,"./tr.js":1224,"./tt":1225,"./tt.js":1225,"./ug":1226,"./ug.js":1226,"./uk":1227,"./uk.js":1227,"./uz":1228,"./uz.js":1228,"./vi":1229,"./vi.js":1229,"./zh":1231,"./zh-cn":1230,"./zh-cn.js":1230,"./zh.js":1231};function o(t){return a(t).then((function(t){return e.t(t,7)}))}function a(t){return e.e(8).then((function(){if(!e.o(r,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return r[t]}))}o.keys=function(){return Object.keys(r)},o.resolve=a,o.id=1437,t.exports=o},1438:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"[data-v-106dc7cb] a{color:#07d}[data-v-106dc7cb] p{cursor:text}","",{version:3,sources:["webpack://./src/components/TextEditor.vue"],names:[],mappings:"AA2NA,oBACC,UAAA,CAED,oBACC,WAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::v-deep a {\n\tcolor: #07d;\n}\n::v-deep p {\n\tcursor: text;\n}\n"],sourceRoot:""}]),n.a=i},1448:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"[data-v-9a5bb97a] .tabs-component-tabs{display:flex}[data-v-9a5bb97a] .tabs-component-tab{flex-grow:1;text-align:center;color:var(--color-text-lighter);margin-bottom:10px}[data-v-9a5bb97a] .tabs-component-tab.is-active{border-bottom:1px solid #000;font-weight:bold}.tabs-component-panels[data-v-9a5bb97a]{padding-top:20px}.tabs-component-panels label[data-v-9a5bb97a]{text-align:left;width:100%;display:inline-block}.tabs-component-panels input[data-v-9a5bb97a],.tabs-component-panels select[data-v-9a5bb97a]{margin-bottom:10px}","",{version:3,sources:["webpack://./src/components/AccountForm.vue"],names:[],mappings:"AAiaA,uCACC,YAAA,CAGD,sCACC,WAAA,CACA,iBAAA,CACA,+BAAA,CACA,kBAAA,CAGD,gDACC,4BAAA,CACA,gBAAA,CAGD,wCACC,gBAAA,CAGD,8CACC,eAAA,CACA,UAAA,CACA,oBAAA,CAGD,6FAEC,kBAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::v-deep .tabs-component-tabs {\n\tdisplay: flex;\n}\n\n::v-deep .tabs-component-tab {\n\tflex-grow: 1;\n\ttext-align: center;\n\tcolor: var(--color-text-lighter);\n\tmargin-bottom: 10px;\n}\n\n::v-deep .tabs-component-tab.is-active {\n\tborder-bottom: 1px solid black;\n\tfont-weight: bold;\n}\n\n.tabs-component-panels {\n\tpadding-top: 20px;\n}\n\n.tabs-component-panels label {\n\ttext-align: left;\n\twidth: 100%;\n\tdisplay: inline-block;\n}\n\n.tabs-component-panels input,\n.tabs-component-panels select {\n\tmargin-bottom: 10px;\n}\n"],sourceRoot:""}]),n.a=i},1449:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"\nh4[data-v-9a5bb97a] {\n\ttext-align: left;\n}\n.flex-row[data-v-9a5bb97a] {\n\tdisplay: flex;\n}\nlabel.button[data-v-9a5bb97a] {\n\tdisplay: inline-block;\n\ttext-align: center;\n\tflex-grow: 1;\n}\nlabel.primary[data-v-9a5bb97a] {\n\tcolor: var(--color-main-background);\n}\ninput.primary[data-v-9a5bb97a] {\n\tcolor: var(--color-main-background);\n}\ninput[type='radio'][data-v-9a5bb97a] {\n\tdisplay: none;\n}\ninput[type='radio'][disabled] + label[data-v-9a5bb97a] {\n\tcursor: default;\n\topacity: 0.5;\n}\n.account-form__label--required[data-v-9a5bb97a]:after {\n\tcontent:\" *\";\n}\n.account-form__heading--required[data-v-9a5bb97a]:after {\n\tcontent:\" *\";\n}\n.account-form__submit-buttons[data-v-9a5bb97a] {\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin-top: 5px;\n}\n.account-form__submit-button[data-v-9a5bb97a] {\n\tdisplay: flex;\n\talign-items: center;\n}\n.account-form__submit-button__spinner[data-v-9a5bb97a] {\n\tmargin: 0 10px 0 0;\n\theight: auto;\n\twidth: auto;\n}\n.account-form--feedback[data-v-9a5bb97a] {\n\tcolor: var(--color-text-maxcontrast);\n\tmargin-top: 5px;\n\ttext-align: center;\n}\n.account-form--error[data-v-9a5bb97a] {\n\ttext-align: left;\n\tfont-size: 14px;\n}\n","",{version:3,sources:["webpack://./src/components/AccountForm.vue"],names:[],mappings:";AAkcA;CACA,gBAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,qBAAA;CACA,kBAAA;CACA,YAAA;AACA;AACA;CACA,mCAAA;AACA;AACA;CACA,mCAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,eAAA;CACA,YAAA;AACA;AACA;CACA,YAAA;AACA;AACA;CACA,YAAA;AACA;AACA;CACA,aAAA;CACA,uBAAA;CACA,eAAA;AACA;AACA;CACA,aAAA;CACA,mBAAA;AACA;AACA;CACA,kBAAA;CACA,YAAA;CACA,WAAA;AACA;AACA;CACA,oCAAA;CACA,eAAA;CACA,kBAAA;AACA;AACA;CACA,gBAAA;CACA,eAAA;AACA",sourcesContent:['<template>\n\t<form id="account-form" @submit.prevent="onSubmit">\n\t\t<Tabs\n\t\t\t:options="{useUrlFragment: false, defaultTabHash: settingsPage ? \'manual\' : \'auto\'}"\n\t\t\tcache-lifetime="0"\n\t\t\t@changed="onModeChanged">\n\t\t\t<Tab id="auto" key="auto" :name="t(\'mail\', \'Auto\')">\n\t\t\t\t<label for="auto-name">{{ t(\'mail\', \'Name\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="auto-name"\n\t\t\t\t\tv-model="autoConfig.accountName"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'Name\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\tautofocus>\n\t\t\t\t<label for="auto-address" class="account-form__label--required">{{ t(\'mail\', \'Mail address\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="auto-address"\n\t\t\t\t\tv-model.lazy="autoConfig.emailAddress"\n\t\t\t\t\ttype="email"\n\t\t\t\t\t:placeholder="t(\'mail\', \'name@example.org\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@blur="isValidEmail(autoConfig.emailAddress)">\n\t\t\t\t<p v-if="!isValidEmail(autoConfig.emailAddress)" class="account-form--error">\n\t\t\t\t\t{{ t(\'mail\', \'Please enter an email of the format name@example.com\') }}\n\t\t\t\t</p>\n\t\t\t\t<label for="auto-password" class="account-form__label--required">{{ t(\'mail\', \'Password\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="auto-password"\n\t\t\t\t\tv-model="autoConfig.password"\n\t\t\t\t\ttype="password"\n\t\t\t\t\t:placeholder="t(\'mail\', \'Password\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired>\n\t\t\t</Tab>\n\t\t\t<Tab id="manual" key="manual" :name="t(\'mail\', \'Manual\')">\n\t\t\t\t<label for="man-name">{{ t(\'mail\', \'Name\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-name"\n\t\t\t\t\tv-model="manualConfig.accountName"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'Name\')"\n\t\t\t\t\t:disabled="loading">\n\t\t\t\t<label for="man-address" class="account-form__label--required">{{ t(\'mail\', \'Mail address\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-address"\n\t\t\t\t\tv-model.lazy="manualConfig.emailAddress"\n\t\t\t\t\ttype="email"\n\t\t\t\t\t:placeholder="t(\'mail\', \'name@example.org\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@blur="isValidEmail(manualConfig.emailAddress)">\n\t\t\t\t<p v-if="!isValidEmail(manualConfig.emailAddress)" class="account-form--error">\n\t\t\t\t\t{{ t(\'mail\', \'Please enter an email of the format name@example.com\') }}\n\t\t\t\t</p>\n\n\t\t\t\t<h3>{{ t(\'mail\', \'IMAP Settings\') }}</h3>\n\t\t\t\t<label for="man-imap-host" class="account-form__label--required">{{ t(\'mail\', \'IMAP Host\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-imap-host"\n\t\t\t\t\tv-model="manualConfig.imapHost"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'IMAP Host\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired>\n\t\t\t\t<h4 class="account-form__heading--required">\n\t\t\t\t\t{{ t(\'mail\', \'IMAP Security\') }}\n\t\t\t\t</h4>\n\t\t\t\t<div class="flex-row">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-imap-sec-none"\n\t\t\t\t\t\tv-model="manualConfig.imapSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-imap-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="none"\n\t\t\t\t\t\t@change="onImapSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-imap-sec-none"\n\t\t\t\t\t\t:class="{primary: manualConfig.imapSslMode === \'none\'}">{{ t(\'mail\', \'None\') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-imap-sec-ssl"\n\t\t\t\t\t\tv-model="manualConfig.imapSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-imap-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="ssl"\n\t\t\t\t\t\t@change="onImapSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-imap-sec-ssl"\n\t\t\t\t\t\t:class="{primary: manualConfig.imapSslMode === \'ssl\'}">{{ t(\'mail\', \'SSL/TLS\') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-imap-sec-tls"\n\t\t\t\t\t\tv-model="manualConfig.imapSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-imap-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="tls"\n\t\t\t\t\t\t@change="onImapSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-imap-sec-tls"\n\t\t\t\t\t\t:class="{primary: manualConfig.imapSslMode === \'tls\'}">{{ t(\'mail\', \'STARTTLS\') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<label for="man-imap-port" class="account-form__label--required">{{ t(\'mail\', \'IMAP Port\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-imap-port"\n\t\t\t\t\tv-model="manualConfig.imapPort"\n\t\t\t\t\ttype="number"\n\t\t\t\t\t:placeholder="t(\'mail\', \'IMAP Port\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired>\n\t\t\t\t<label for="man-imap-user" class="account-form__label--required">{{ t(\'mail\', \'IMAP User\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-imap-user"\n\t\t\t\t\tv-model="manualConfig.imapUser"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'IMAP User\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired>\n\t\t\t\t<label for="man-imap-password" class="account-form__label--required">{{ t(\'mail\', \'IMAP Password\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-imap-password"\n\t\t\t\t\tv-model="manualConfig.imapPassword"\n\t\t\t\t\ttype="password"\n\t\t\t\t\t:placeholder="t(\'mail\', \'IMAP Password\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired>\n\n\t\t\t\t<h3>{{ t(\'mail\', \'SMTP Settings\') }}</h3>\n\t\t\t\t<label for="man-smtp-host" class="account-form__label--required">{{ t(\'mail\', \'SMTP Host\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-smtp-host"\n\t\t\t\t\tref="smtpHost"\n\t\t\t\t\tv-model="manualConfig.smtpHost"\n\t\t\t\t\ttype="text"\n\t\t\t\t\tname="smtp-host"\n\t\t\t\t\t:placeholder="t(\'mail\', \'SMTP Host\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired>\n\t\t\t\t<h4 class="account-form__heading--required">\n\t\t\t\t\t{{ t(\'mail\', \'SMTP Security\') }}\n\t\t\t\t</h4>\n\t\t\t\t<div class="flex-row">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-smtp-sec-none"\n\t\t\t\t\t\tv-model="manualConfig.smtpSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-smtp-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="none"\n\t\t\t\t\t\t@change="onSmtpSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-smtp-sec-none"\n\t\t\t\t\t\t:class="{primary: manualConfig.smtpSslMode === \'none\'}">{{ t(\'mail\', \'None\') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-smtp-sec-ssl"\n\t\t\t\t\t\tv-model="manualConfig.smtpSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-smtp-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="ssl"\n\t\t\t\t\t\t@change="onSmtpSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-smtp-sec-ssl"\n\t\t\t\t\t\t:class="{primary: manualConfig.smtpSslMode === \'ssl\'}">{{ t(\'mail\', \'SSL/TLS\') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-smtp-sec-tls"\n\t\t\t\t\t\tv-model="manualConfig.smtpSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-smtp-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="tls"\n\t\t\t\t\t\t@change="onSmtpSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-smtp-sec-tls"\n\t\t\t\t\t\t:class="{primary: manualConfig.smtpSslMode === \'tls\'}">{{ t(\'mail\', \'STARTTLS\') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<label for="man-smtp-port" class="account-form__label--required">{{ t(\'mail\', \'SMTP Port\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-smtp-port"\n\t\t\t\t\tv-model="manualConfig.smtpPort"\n\t\t\t\t\ttype="number"\n\t\t\t\t\t:placeholder="t(\'mail\', \'SMTP Port\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired>\n\t\t\t\t<label for="man-smtp-user" class="account-form__label--required">{{ t(\'mail\', \'SMTP User\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-smtp-user"\n\t\t\t\t\tv-model="manualConfig.smtpUser"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'SMTP User\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired>\n\t\t\t\t<label for="man-smtp-password" class="account-form__label--required">{{ t(\'mail\', \'SMTP Password\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-smtp-password"\n\t\t\t\t\tv-model="manualConfig.smtpPassword"\n\t\t\t\t\ttype="password"\n\t\t\t\t\t:placeholder="t(\'mail\', \'SMTP Password\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired>\n\t\t\t</Tab>\n\t\t</Tabs>\n\t\t<div class="account-form__submit-buttons">\n\t\t\t<button v-if="mode === \'auto\'"\n\t\t\t\tclass="primary account-form__submit-button"\n\t\t\t\ttype="submit"\n\t\t\t\t:disabled="isDisabledAuto"\n\t\t\t\t@click.prevent="onSubmit">\n\t\t\t\t<span v-if="loading" class="icon-loading-small account-form__submit-button__spinner" />\n\t\t\t\t{{ submitButtonText }}\n\t\t\t</button>\n\n\t\t\t<button v-else-if="mode === \'manual\'"\n\t\t\t\tclass="primary account-form__submit-button"\n\t\t\t\ttype="submit"\n\t\t\t\t:disabled="isDisabledManual"\n\t\t\t\t@click.prevent="onSubmit">\n\t\t\t\t<span v-if="loading" class="icon-loading-small account-form__submit-button__spinner" />\n\t\t\t\t{{ submitButtonText }}\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="account-form--feedback">\n\t\t\t<slot name="feedback" />\n\t\t</div>\n\t</form>\n</template>\n\n<script>\nimport { Tab, Tabs } from \'vue-tabs-component\'\n\nimport logger from \'../logger\'\n\nexport default {\n\tname: \'AccountForm\',\n\tcomponents: {\n\t\tTab,\n\t\tTabs,\n\t},\n\tprops: {\n\t\tdisplayName: {\n\t\t\ttype: String,\n\t\t\tdefault: \'\',\n\t\t},\n\t\temail: {\n\t\t\ttype: String,\n\t\t\tdefault: \'\',\n\t\t},\n\t\tsave: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t},\n\tdata() {\n\t\tconst fromAccountOr = (prop, def) => {\n\t\t\tif (this.account !== undefined) {\n\t\t\t\treturn this.account[prop]\n\t\t\t} else {\n\t\t\t\treturn def\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tloading: false,\n\t\t\tmode: \'auto\',\n\t\t\tautoConfig: {\n\t\t\t\taccountName: this.displayName,\n\t\t\t\temailAddress: this.email,\n\t\t\t\tpassword: \'\',\n\t\t\t},\n\t\t\tmanualConfig: {\n\t\t\t\taccountName: \'\',\n\t\t\t\temailAddress: \'\',\n\t\t\t\timapHost: fromAccountOr(\'imapHost\', \'\'),\n\t\t\t\timapPort: fromAccountOr(\'imapPort\', 993),\n\t\t\t\timapSslMode: fromAccountOr(\'imapSslMode\', \'ssl\'),\n\t\t\t\timapUser: fromAccountOr(\'imapUser\', \'\'),\n\t\t\t\timapPassword: \'\',\n\t\t\t\tsmtpHost: fromAccountOr(\'smtpHost\', \'\'),\n\t\t\t\tsmtpPort: fromAccountOr(\'smtpPort\', 587),\n\t\t\t\tsmtpSslMode: fromAccountOr(\'smtpSslMode\', \'tls\'),\n\t\t\t\tsmtpUser: fromAccountOr(\'smtpUser\', \'\'),\n\t\t\t\tsmtpPassword: \'\',\n\t\t\t},\n\t\t}\n\t},\n\tcomputed: {\n\t\tsettingsPage() {\n\t\t\treturn this.account !== undefined\n\t\t},\n\n\t\tisDisabledAuto() {\n\t\t\tswitch (this.mode === \'auto\') {\n\t\t\tcase !this.autoConfig.emailAddress || !this.isValidEmail(this.autoConfig.emailAddress) || !this.autoConfig.password :\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn this.loading\n\t\t},\n\n\t\tisDisabledManual() {\n\t\t\tswitch (this.mode === \'manual\') {\n\t\t\tcase !this.manualConfig.emailAddress || !this.isValidEmail(this.manualConfig.emailAddress)\n\t\t\t|| !this.manualConfig.imapHost || !this.manualConfig.imapPort\n\t\t\t|| !this.manualConfig.imapUser || !this.manualConfig.imapPassword\n\t\t\t|| !this.manualConfig.smtpHost || !this.manualConfig.smtpPort\n\t\t\t|| !this.manualConfig.smtpUser || !this.manualConfig.smtpPassword:\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn this.loading\n\t\t},\n\n\t\tsubmitButtonText() {\n\t\t\tif (this.loading) {\n\t\t\t\treturn t(\'mail\', \'Connecting\')\n\t\t\t}\n\t\t\treturn this.account ? t(\'mail\', \'Save\') : t(\'mail\', \'Connect\')\n\t\t},\n\t},\n\tmethods: {\n\t\tonModeChanged(e) {\n\t\t\tthis.mode = e.tab.id\n\n\t\t\tif (this.mode === \'manual\') {\n\t\t\t\tif (this.manualConfig.accountName === \'\') {\n\t\t\t\t\tthis.manualConfig.accountName = this.autoConfig.accountName\n\t\t\t\t}\n\t\t\t\tif (this.manualConfig.emailAddress === \'\') {\n\t\t\t\t\tthis.manualConfig.emailAddress = this.autoConfig.emailAddress\n\t\t\t\t}\n\n\t\t\t\t// IMAP\n\t\t\t\tif (this.manualConfig.imapUser === \'\') {\n\t\t\t\t\tthis.manualConfig.imapUser = this.autoConfig.emailAddress\n\t\t\t\t}\n\t\t\t\tif (this.manualConfig.imapPassword === \'\') {\n\t\t\t\t\tthis.manualConfig.imapPassword = this.autoConfig.password\n\t\t\t\t}\n\n\t\t\t\t// SMTP\n\t\t\t\tif (this.manualConfig.smtpUser === \'\') {\n\t\t\t\t\tthis.manualConfig.smtpUser = this.autoConfig.emailAddress\n\t\t\t\t}\n\t\t\t\tif (this.manualConfig.smtpPassword === \'\') {\n\t\t\t\t\tthis.manualConfig.smtpPassword = this.autoConfig.password\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonImapSslModeChange() {\n\t\t\tswitch (this.manualConfig.imapSslMode) {\n\t\t\tcase \'none\':\n\t\t\tcase \'tls\':\n\t\t\t\tthis.manualConfig.imapPort = 143\n\t\t\t\tbreak\n\t\t\tcase \'ssl\':\n\t\t\t\tthis.manualConfig.imapPort = 993\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tonSmtpSslModeChange() {\n\t\t\tswitch (this.manualConfig.smtpSslMode) {\n\t\t\tcase \'none\':\n\t\t\tcase \'tls\':\n\t\t\t\tthis.manualConfig.smtpPort = 587\n\t\t\t\tbreak\n\t\t\tcase \'ssl\':\n\t\t\t\tthis.manualConfig.smtpPort = 465\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tsaveChanges() {\n\t\t\tif (this.mode === \'auto\') {\n\t\t\t\treturn this.save({\n\t\t\t\t\tautoDetect: true,\n\t\t\t\t\t...this.autoConfig,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Removing additional whitespaces from manual configuration hosts\n\t\t\t\t// In order to avoid issues when copy pasting imap & smtp hosts from providers documentations,\n\t\t\t\t// which may have whitespaces.\n\t\t\t\treturn this.save({\n\t\t\t\t\tautoDetect: false,\n\t\t\t\t\t...this.manualConfig,\n\t\t\t\t\timapHost: this.manualConfig.imapHost.trim(),\n\t\t\t\t\tsmtpHost: this.manualConfig.smtpHost.trim(),\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tonSubmit(event) {\n\t\t\tif (!this.isDisabledManual || !this.isDisabledAuto) {\n\t\t\t\tconsole.debug(\'account form submitted\', { event })\n\t\t\t\tthis.loading = true\n\t\t\t\tthis.saveChanges()\n\t\t\t\t\t.catch((error) => logger.error(\'could not save account details\', { error }))\n\t\t\t\t\t.then(() => (this.loading = false))\n\t\t\t}\n\t\t},\n\t\tisValidEmail(email) {\n\t\t\tconst regExpEmail = /^(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t\treturn regExpEmail.test(email)\n\t\t},\n\t},\n}\n<\/script>\n\n<style lang="scss" scoped>\n::v-deep .tabs-component-tabs {\n\tdisplay: flex;\n}\n\n::v-deep .tabs-component-tab {\n\tflex-grow: 1;\n\ttext-align: center;\n\tcolor: var(--color-text-lighter);\n\tmargin-bottom: 10px;\n}\n\n::v-deep .tabs-component-tab.is-active {\n\tborder-bottom: 1px solid black;\n\tfont-weight: bold;\n}\n\n.tabs-component-panels {\n\tpadding-top: 20px;\n}\n\n.tabs-component-panels label {\n\ttext-align: left;\n\twidth: 100%;\n\tdisplay: inline-block;\n}\n\n.tabs-component-panels input,\n.tabs-component-panels select {\n\tmargin-bottom: 10px;\n}\n</style>\n\n<style scoped>\nh4 {\n\ttext-align: left;\n}\n\n.flex-row {\n\tdisplay: flex;\n}\n\nlabel.button {\n\tdisplay: inline-block;\n\ttext-align: center;\n\tflex-grow: 1;\n}\nlabel.primary {\n\tcolor: var(--color-main-background);\n}\ninput.primary {\n\tcolor: var(--color-main-background);\n}\n\ninput[type=\'radio\'] {\n\tdisplay: none;\n}\n\ninput[type=\'radio\'][disabled] + label {\n\tcursor: default;\n\topacity: 0.5;\n}\n.account-form__label--required:after {\n\tcontent:" *";\n}\n.account-form__heading--required:after {\n\tcontent:" *";\n}\n.account-form__submit-buttons {\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin-top: 5px;\n}\n.account-form__submit-button {\n\tdisplay: flex;\n\talign-items: center;\n}\n.account-form__submit-button__spinner {\n\tmargin: 0 10px 0 0;\n\theight: auto;\n\twidth: auto;\n}\n.account-form--feedback {\n\tcolor: var(--color-text-maxcontrast);\n\tmargin-top: 5px;\n\ttext-align: center;\n}\n.account-form--error {\n\ttext-align: left;\n\tfont-size: 14px;\n}\n</style>\n'],sourceRoot:""}]),n.a=i},1450:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"label[data-v-7db23f84]{padding-right:12px}","",{version:3,sources:["webpack://./src/components/EditorSettings.vue"],names:[],mappings:"AAoFA,uBACC,kBAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlabel {\n\tpadding-right: 12px;\n}\n"],sourceRoot:""}]),n.a=i},1467:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"\n.vue-treeselect__control {\n\tpadding: 0;\n\tborder: 0;\n\twidth: 250px;\n}\n.vue-treeselect__control-arrow-container {\n\tdisplay: none;\n}\n.vue-treeselect--searchable .vue-treeselect__input-container {\n\tpadding-left: 0;\n}\ninput.vue-treeselect__input {\n\tmargin: 0;\n\tpadding: 0;\n}\n","",{version:3,sources:["webpack://./src/components/MailboxInlinePicker.vue"],names:[],mappings:";AAsEA;CACA,UAAA;CACA,SAAA;CACA,YAAA;AACA;AACA;CACA,aAAA;AACA;AACA;CACA,eAAA;AACA;AACA;CACA,SAAA;CACA,UAAA;AACA",sourcesContent:['<template>\n\t<Treeselect\n\t\tref="Treeselect"\n\t\tv-model="selected"\n\t\t:options="mailboxes"\n\t\t:multiple="false"\n\t\t:clearable="false"\n\t\t:disabled="disabled" />\n</template>\n<script>\nimport Treeselect from \'@riophae/vue-treeselect\'\nimport \'@riophae/vue-treeselect/dist/vue-treeselect.css\'\n\nexport default {\n\tname: \'MailboxInlinePicker\',\n\tcomponents: {\n\t\tTreeselect,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselected: this.value,\n\t\t}\n\t},\n\tcomputed: {\n\t\tmailboxes() {\n\t\t\treturn this.getMailboxes()\n\t\t},\n\t},\n\twatch: {\n\t\tselected(val) {\n\t\t\tif (val !== this.value) {\n\t\t\t\tthis.$emit(\'input\', val)\n\t\t\t\tthis.selected = val\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tgetMailboxes(mailboxId) {\n\t\t\tlet mailboxes = []\n\t\t\tif (!mailboxId) {\n\t\t\t\tmailboxes = this.$store.getters.getMailboxes(this.account.accountId)\n\t\t\t} else {\n\t\t\t\tmailboxes = this.$store.getters.getSubMailboxes(mailboxId)\n\t\t\t}\n\t\t\treturn mailboxes.map((mailbox) => {\n\t\t\t\t return {\n\t\t\t\t\tid: mailbox.databaseId,\n\t\t\t\t\tlabel: mailbox.displayName,\n\t\t\t\t\tchildren: mailbox.mailboxes.length > 0 ? this.getMailboxes(mailbox.databaseId) : \'\',\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n}\n<\/script>\n<style>\n.vue-treeselect__control {\n\tpadding: 0;\n\tborder: 0;\n\twidth: 250px;\n}\n.vue-treeselect__control-arrow-container {\n\tdisplay: none;\n}\n.vue-treeselect--searchable .vue-treeselect__input-container {\n\tpadding-left: 0;\n}\ninput.vue-treeselect__input {\n\tmargin: 0;\n\tpadding: 0;\n}\n</style>\n'],sourceRoot:""}]),n.a=i},1468:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,".button.icon-rename[data-v-3a6599f7]{background-color:rgba(0,0,0,0);border:none;opacity:.3}.button.icon-rename[data-v-3a6599f7]:hover,.button.icon-rename[data-v-3a6599f7]:focus{opacity:1}","",{version:3,sources:["webpack://./src/components/AccountDefaultsSettings.vue"],names:[],mappings:"AAoJA,qCACC,8BAAA,CACA,WAAA,CACA,UAAA,CAEA,sFAEC,SAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.button.icon-rename {\n\tbackground-color: transparent;\n\tborder: none;\n\topacity: 0.3;\n\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n"],sourceRoot:""}]),n.a=i},1469:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,".ck.ck-editor__editable_inline[data-v-1c55c63e]{width:100%;max-width:78vw;height:100px;border-radius:var(--border-radius) !important;border:1px solid var(--color-border) !important;box-shadow:none !important}.primary[data-v-1c55c63e]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-1c55c63e]:after{left:14px}.button-text[data-v-1c55c63e]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-1c55c63e]:hover,.button-text[data-v-1c55c63e]:focus{color:var(--color-main-text)}.section[data-v-1c55c63e]{display:block;padding:0;margin-bottom:23px}.multiselect--single[data-v-1c55c63e]{width:100%}","",{version:3,sources:["webpack://./src/components/SignatureSettings.vue"],names:[],mappings:"AAwKA,gDACE,UAAA,CACA,cAAA,CACA,YAAA,CACA,6CAAA,CACA,+CAAA,CACA,0BAAA,CAGF,0BACE,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA,CAIJ,8BACE,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEE,4BAAA,CAGJ,0BACE,aAAA,CACA,SAAA,CACA,kBAAA,CAEF,sCACE,UAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ck.ck-editor__editable_inline {\n  width: 100%;\n  max-width: 78vw;\n  height: 100px;\n  border-radius: var(--border-radius) !important;\n  border: 1px solid var(--color-border) !important;\n  box-shadow: none !important;\n}\n\n.primary {\n  padding-left: 26px;\n  background-position: 6px;\n  color: var(--color-main-background);\n\n  &:after {\n    left: 14px;\n  }\n}\n\n.button-text {\n  background-color: transparent;\n  border: none;\n  color: var(--color-text-maxcontrast);\n  font-weight: normal;\n\n  &:hover,\n  &:focus {\n    color: var(--color-main-text);\n  }\n}\n.section {\n  display: block;\n  padding: 0;\n  margin-bottom: 23px;\n}\n.multiselect--single {\n  width: 100%;\n}\n"],sourceRoot:""}]),n.a=i},1470:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"\n.ck-balloon-panel {\n  z-index: 10000 !important;\n}\n","",{version:3,sources:["webpack://./src/components/SignatureSettings.vue"],names:[],mappings:";AAgNA;EACA,yBAAA;AACA",sourcesContent:['\x3c!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  --\x3e\n\n<template>\n\t<div class="section">\n\t\t<div>\n\t\t\t<input\n\t\t\t\tid="signature-above-quote-toggle"\n\t\t\t\tv-model="signatureAboveQuote"\n\t\t\t\ttype="checkbox"\n\t\t\t\tclass="checkbox">\n\t\t\t<label for="signature-above-quote-toggle">\n\t\t\t\t{{ t("mail", "Place signature above quoted text") }}\n\t\t\t</label>\n\t\t</div>\n\t\t<Multiselect\n\t\t\tv-if="identities.length > 1"\n\t\t\t:allow-empty="false"\n\t\t\t:options="identities"\n\t\t\t:searchable="false"\n\t\t\t:value="identity"\n\t\t\tlabel="label"\n\t\t\ttrack-by="id"\n\t\t\t@select="changeIdentity" />\n\t\t<TextEditor\n\t\t\tv-model="signature"\n\t\t\t:html="true"\n\t\t\t:placeholder="t(\'mail\', \'Signature …\')"\n\t\t\t:bus="bus" />\n\t\t<button\n\t\t\tclass="primary"\n\t\t\t:class="loading ? \'icon-loading-small-dark\' : \'icon-checkmark-white\'"\n\t\t\t:disabled="loading"\n\t\t\t@click="saveSignature">\n\t\t\t{{ t("mail", "Save signature") }}\n\t\t</button>\n\t\t<button v-if="signature" class="button-text" @click="deleteSignature">\n\t\t\t{{ t("mail", "Delete") }}\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nimport logger from \'../logger\'\nimport TextEditor from \'./TextEditor\'\nimport { detect, toHtml } from \'../util/text\'\nimport Vue from \'vue\'\nimport Multiselect from \'@nextcloud/vue/dist/Components/Multiselect\'\n\nexport default {\n\tname: \'SignatureSettings\',\n\tcomponents: {\n\t\tTextEditor,\n\t\tMultiselect,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: false,\n\t\t\tbus: new Vue(),\n\t\t\tidentity: null,\n\t\t\tsignature: \'\',\n\t\t\tsignatureAboveQuote: this.account.signatureAboveQuote,\n\t\t}\n\t},\n\tcomputed: {\n\t\tidentities() {\n\t\t\tconst identities = this.account.aliases.map((alias) => {\n\t\t\t\treturn {\n\t\t\t\t\tid: alias.id,\n\t\t\t\t\tlabel: alias.name + \' (\' + alias.alias + \')\',\n\t\t\t\t\tsignature: alias.signature,\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tidentities.unshift({\n\t\t\t\tid: -1,\n\t\t\t\tlabel: this.account.name + \' (\' + this.account.emailAddress + \')\',\n\t\t\t\tsignature: this.account.signature,\n\t\t\t})\n\n\t\t\treturn identities\n\t\t},\n\t},\n\twatch: {\n\t\tasync signatureAboveQuote(val, oldVal) {\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch(\'patchAccount\', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsignatureAboveQuote: val,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tlogger.debug(\'signature above quoted updated to \' + val)\n\t\t\t} catch (e) {\n\t\t\t\tlogger.error(\'could not update signature above quote\', { e })\n\t\t\t\tthis.signatureAboveQuote = oldVal\n\t\t\t}\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tthis.changeIdentity(this.identities[0])\n\t},\n\tmethods: {\n\t\tchangeIdentity(identity) {\n\t\t\tlogger.debug(\'select identity\', { identity })\n\t\t\tthis.identity = identity\n\t\t\tthis.signature = identity.signature\n\t\t\t\t? toHtml(detect(identity.signature)).value\n\t\t\t\t: \'\'\n\t\t},\n\t\tasync deleteSignature() {\n\t\t\tthis.signature = null\n\t\t\tawait this.saveSignature()\n\t\t},\n\t\tasync saveSignature() {\n\t\t\tthis.loading = true\n\n\t\t\tlet dispatchType = \'updateAccountSignature\'\n\t\t\tconst payload = {\n\t\t\t\taccount: this.account,\n\t\t\t\tsignature: this.signature,\n\t\t\t}\n\n\t\t\tif (this.identity.id > -1) {\n\t\t\t\tdispatchType = \'updateAliasSignature\'\n\t\t\t\tpayload.aliasId = this.identity.id\n\t\t\t}\n\n\t\t\treturn this.$store\n\t\t\t\t.dispatch(dispatchType, payload)\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.info(\'signature updated\')\n\t\t\t\t\tthis.loading = false\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error(\'could not update account signature\', { error })\n\t\t\t\t\tthrow error\n\t\t\t\t})\n\t\t},\n\t},\n}\n<\/script>\n\n<style lang="scss" scoped>\n.ck.ck-editor__editable_inline {\n  width: 100%;\n  max-width: 78vw;\n  height: 100px;\n  border-radius: var(--border-radius) !important;\n  border: 1px solid var(--color-border) !important;\n  box-shadow: none !important;\n}\n\n.primary {\n  padding-left: 26px;\n  background-position: 6px;\n  color: var(--color-main-background);\n\n  &:after {\n    left: 14px;\n  }\n}\n\n.button-text {\n  background-color: transparent;\n  border: none;\n  color: var(--color-text-maxcontrast);\n  font-weight: normal;\n\n  &:hover,\n  &:focus {\n    color: var(--color-main-text);\n  }\n}\n.section {\n  display: block;\n  padding: 0;\n  margin-bottom: 23px;\n}\n.multiselect--single {\n  width: 100%;\n}\n</style>\n<style>\n.ck-balloon-panel {\n  z-index: 10000 !important;\n}\n</style>\n'],sourceRoot:""}]),n.a=i},1471:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,".alias-form[data-v-2c30c231],.alias-item[data-v-2c30c231]{display:flex;justify-content:space-between;align-items:center}.button-group[data-v-2c30c231]{display:flex;align-items:center}.icon[data-v-2c30c231]{background-color:var(--color-main-background);border:none;opacity:.7}.icon[data-v-2c30c231]:hover,.icon[data-v-2c30c231]:focus{opacity:1}.icon-checkmark[data-v-2c30c231]{background-image:var(--icon-checkmark-000)}.icon-delete[data-v-2c30c231]{background-image:var(--icon-delete-000)}.icon-rename[data-v-2c30c231]{background-image:var(--icon-rename-000)}","",{version:3,sources:["webpack://./src/components/AliasForm.vue"],names:[],mappings:"AA6HA,0DACC,YAAA,CACA,6BAAA,CACA,kBAAA,CAGD,+BACC,YAAA,CACA,kBAAA,CAGD,uBACC,6CAAA,CACA,WAAA,CACA,UAAA,CAEA,0DACC,SAAA,CAIF,iCACC,0CAAA,CAGD,8BACC,uCAAA,CAGD,8BACC,uCAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.alias-form, .alias-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.button-group {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.icon {\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\topacity: 0.7;\n\n\t&:hover, &:focus {\n\t\topacity: 1;\n\t}\n}\n\n.icon-checkmark {\n\tbackground-image: var(--icon-checkmark-000);\n}\n\n.icon-delete {\n\tbackground-image: var(--icon-delete-000);\n}\n\n.icon-rename {\n\tbackground-image: var(--icon-rename-000);\n}\n"],sourceRoot:""}]),n.a=i},1472:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,".primary[data-v-3d86b7aa]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-3d86b7aa]:after{left:14px}.button-text[data-v-3d86b7aa]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-3d86b7aa]:hover,.button-text[data-v-3d86b7aa]:focus{color:var(--color-main-text)}input[data-v-3d86b7aa]{width:195px}.icon-add[data-v-3d86b7aa]{background-image:var(--icon-add-fff)}","",{version:3,sources:["webpack://./src/components/AliasSettings.vue"],names:[],mappings:"AAoHA,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACC,SAAA,CAIF,8BACC,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEC,4BAAA,CAIF,uBACC,WAAA,CAGD,2BACC,oCAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\tleft: 14px;\n\t}\n}\n\n.button-text {\n\tbackground-color: transparent;\n\tborder: none;\n\tcolor: var(--color-text-maxcontrast);\n\tfont-weight: normal;\n\n\t&:hover,\n\t&:focus {\n\t\tcolor: var(--color-main-text);\n\t}\n}\n\ninput {\n\twidth: 195px;\n}\n\n.icon-add {\n\tbackground-image: var(--icon-add-fff);\n}\n"],sourceRoot:""}]),n.a=i},1478:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"\nform[data-v-8b1dc5a0] {\n\twidth: 250px\n}\nlabel[data-v-8b1dc5a0] {\n\tdisplay: inline-block;\n}\ninput[data-v-8b1dc5a0] {\n\twidth: 100%;\n}\n.flex-row[data-v-8b1dc5a0] {\n\tdisplay: flex;\n}\nlabel.button[data-v-8b1dc5a0] {\n\ttext-align: center;\n\tflex-grow: 1;\n}\nlabel.error[data-v-8b1dc5a0] {\n\tcolor: red;\n}\ninput[type='radio'][data-v-8b1dc5a0] {\n\tdisplay: none;\n}\n","",{version:3,sources:["webpack://./src/components/SieveAccountForm.vue"],names:[],mappings:";AAgMA;CACA;AACA;AAEA;CACA,qBAAA;AACA;AAEA;CACA,WAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,kBAAA;CACA,YAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;CACA,aAAA;AACA",sourcesContent:['<template>\n\t<form id="sieve-form">\n\t\t<p>\n\t\t\t<input\n\t\t\t\tid="sieve-disabled"\n\t\t\t\tv-model="sieveConfig.sieveEnabled"\n\t\t\t\ttype="radio"\n\t\t\t\tclass="radio"\n\t\t\t\tname="sieve-active"\n\t\t\t\t:value="false">\n\t\t\t<label\n\t\t\t\t:class="{primary: !sieveConfig.sieveEnabled}"\n\t\t\t\tfor="sieve-disabled">\n\t\t\t\t{{ t(\'mail\', \'Disabled\') }}\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tid="sieve-enabled"\n\t\t\t\tv-model="sieveConfig.sieveEnabled"\n\t\t\t\ttype="radio"\n\t\t\t\tclass="radio"\n\t\t\t\tname="sieve-active"\n\t\t\t\t:value="true">\n\t\t\t<label\n\t\t\t\t:class="{primary: sieveConfig.sieveEnabled}"\n\t\t\t\tfor="sieve-enabled">\n\t\t\t\t{{ t(\'mail\', \'Enabled\') }}\n\t\t\t</label>\n\t\t</p>\n\t\t<template v-if="sieveConfig.sieveEnabled">\n\t\t\t<label for="sieve-host">{{ t(\'mail\', \'Sieve Host\') }}</label>\n\t\t\t<input\n\t\t\t\tid="sieve-host"\n\t\t\t\tv-model="sieveConfig.sieveHost"\n\t\t\t\ttype="text"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t(\'mail\', \'Sieve Security\') }}</h4>\n\t\t\t<div class="flex-row">\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-sec-none"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="none">\n\t\t\t\t<label\n\t\t\t\t\tclass="button"\n\t\t\t\t\tfor="sieve-sec-none"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'none\'}">{{\n\t\t\t\t\t\tt(\'mail\', \'None\')\n\t\t\t\t\t}}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-sec-ssl"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="ssl">\n\t\t\t\t<label\n\t\t\t\t\tclass="button"\n\t\t\t\t\tfor="sieve-sec-ssl"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'ssl\'}">\n\t\t\t\t\t{{ t(\'mail\', \'SSL/TLS\') }}\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-sec-tls"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="tls">\n\t\t\t\t<label\n\t\t\t\t\tclass="button"\n\t\t\t\t\tfor="sieve-sec-tls"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'tls\'}">\n\t\t\t\t\t{{ t(\'mail\', \'STARTTLS\') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<label for="sieve-port">{{ t(\'mail\', \'Sieve Port\') }}</label>\n\t\t\t<input\n\t\t\t\tid="sieve-port"\n\t\t\t\tv-model="sieveConfig.sievePort"\n\t\t\t\ttype="text"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t(\'mail\', \'Sieve Credentials\') }}</h4>\n\t\t\t<p>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-credentials-imap"\n\t\t\t\t\tv-model="useImapCredentials"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tclass="radio"\n\t\t\t\t\t:value="true">\n\t\t\t\t<label\n\t\t\t\t\t:class="{primary: useImapCredentials}"\n\t\t\t\t\tfor="sieve-credentials-imap">\n\t\t\t\t\t{{ t(\'mail\', \'IMAP Credentials\') }}\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-credentials-custom"\n\t\t\t\t\tv-model="useImapCredentials"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tclass="radio"\n\t\t\t\t\t:value="false">\n\t\t\t\t<label\n\t\t\t\t\t:class="{primary: !useImapCredentials}"\n\t\t\t\t\tfor="sieve-credentials-custom">\n\t\t\t\t\t{{ t(\'mail\', \'Custom\') }}\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<template v-if="!useImapCredentials">\n\t\t\t\t<label for="sieve-user">{{ t(\'mail\', \'Sieve User\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-user"\n\t\t\t\t\tv-model="sieveConfig.sieveUser"\n\t\t\t\t\ttype="text"\n\t\t\t\t\trequired>\n\t\t\t\t<label for="sieve-password">{{\n\t\t\t\t\tt(\'mail\', \'Sieve Password\')\n\t\t\t\t}}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-password"\n\t\t\t\t\tv-model="sieveConfig.sievePassword"\n\t\t\t\t\ttype="password"\n\t\t\t\t\trequired>\n\t\t\t</template>\n\t\t</template>\n\t\t<slot name="feedback" />\n\t\t<p v-if="errorMessage">\n\t\t\t{{ t(\'mail\', \'Oh Snap!\') }}\n\t\t\t{{ errorMessage }}\n\t\t</p>\n\t\t<input type="submit"\n\t\t\tclass="primary"\n\t\t\t:disabled="loading"\n\t\t\t:value="submitButtonText"\n\t\t\t@click.prevent="onSubmit">\n\t</form>\n</template>\n\n<script>\nexport default {\n\tname: \'SieveAccountForm\',\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsieveConfig: {\n\t\t\t\tsieveEnabled: this.account.sieveEnabled,\n\t\t\t\tsieveHost: this.account.sieveHost || this.account.imapHost,\n\t\t\t\tsievePort: this.account.sievePort || 4190,\n\t\t\t\tsieveUser: this.account.sieveUser || \'\',\n\t\t\t\tsievePassword: \'\',\n\t\t\t\tsieveSslMode: this.account.sieveSslMode || \'tls\',\n\t\t\t},\n\t\t\tloading: false,\n\t\t\tuseImapCredentials: !this.account.sieveUser,\n\t\t\terrorMessage: \'\',\n\t\t\tsubmitButtonText: t(\'mail\', \'Save sieve settings\'),\n\t\t}\n\t},\n\tmethods: {\n\t\tasync onSubmit() {\n\t\t\tthis.loading = true\n\t\t\tthis.errorMessage = \'\'\n\n\t\t\t// empty user and password => use imap credentials\n\t\t\tif (this.sieveConfig.sieveUser === \'\' && this.sieveConfig.sievePassword === \'\') {\n\t\t\t\tthis.useImapCredentials = true\n\t\t\t}\n\n\t\t\t// clear user and password if imap credentials are used\n\t\t\tif (this.useImapCredentials) {\n\t\t\t\tthis.sieveConfig.sieveUser = \'\'\n\t\t\t\tthis.sieveConfig.sievePassword = \'\'\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch(\'updateSieveAccount\', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tdata: this.sieveConfig,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tthis.errorMessage = error.message\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\nform {\n\twidth: 250px\n}\n\nlabel {\n\tdisplay: inline-block;\n}\n\ninput {\n\twidth: 100%;\n}\n\n.flex-row {\n\tdisplay: flex;\n}\n\nlabel.button {\n\ttext-align: center;\n\tflex-grow: 1;\n}\n\nlabel.error {\n\tcolor: red;\n}\n\ninput[type=\'radio\'] {\n\tdisplay: none;\n}\n</style>\n'],sourceRoot:""}]),n.a=i},1479:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,".section[data-v-568aaba6]{display:block;padding:0;margin-bottom:23px}textarea[data-v-568aaba6]{width:100%}.primary[data-v-568aaba6]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-568aaba6]:after{left:14px}","",{version:3,sources:["webpack://./src/components/SieveFilterForm.vue"],names:[],mappings:"AA6DA,0BACC,aAAA,CACA,SAAA,CACA,kBAAA,CAGD,0BACC,UAAA,CAGD,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.section {\n\tdisplay: block;\n\tpadding: 0;\n\tmargin-bottom: 23px;\n}\n\ntextarea {\n\twidth: 100%;\n}\n\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\t left: 14px;\n\t }\n}\n"],sourceRoot:""}]),n.a=i},1480:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,".alias-item[data-v-13a5c8ff]{display:flex;justify-content:space-between}[data-v-13a5c8ff] .modal-container{display:block;overflow:scroll;transition:transform 300ms ease;border-radius:var(--border-radius-large);box-shadow:0 0 40px rgba(0,0,0,.2);padding:30px 70px 20px}.button.icon-rename[data-v-13a5c8ff]{background-image:var(--icon-rename-000);background-color:var(--color-main-background);border:none;opacity:.7}.button.icon-rename[data-v-13a5c8ff]:hover,.button.icon-rename[data-v-13a5c8ff]:focus{opacity:1}.settings-hint[data-v-13a5c8ff]{margin-top:-12px;margin-bottom:6px;color:var(--color-text-maxcontrast)}h2[data-v-13a5c8ff]{font-weight:bold;font-size:20px;margin-bottom:12px;margin-left:-30px;line-height:30px;color:var(--color-text-light)}.app-settings-section[data-v-13a5c8ff]{margin-bottom:45px}","",{version:3,sources:["webpack://./src/components/AccountSettings.vue"],names:[],mappings:"AAsLA,6BACC,YAAA,CACA,6BAAA,CAGD,mCACC,aAAA,CACA,eAAA,CACA,+BAAA,CACA,wCAAA,CACA,kCAAA,CACA,sBAAA,CAED,qCACC,uCAAA,CACA,6CAAA,CACA,WAAA,CACA,UAAA,CACA,sFAEC,SAAA,CAGF,gCACC,gBAAA,CACA,iBAAA,CACA,mCAAA,CAED,oBACC,gBAAA,CACA,cAAA,CACA,kBAAA,CACA,iBAAA,CACA,gBAAA,CACA,6BAAA,CAED,uCACA,kBAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.alias-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n::v-deep .modal-container {\n\tdisplay: block;\n\toverflow: scroll;\n\ttransition: transform 300ms ease;\n\tborder-radius: var(--border-radius-large);\n\tbox-shadow: 0 0 40px rgba(0,0,0,0.2);\n\tpadding: 30px 70px 20px;\n}\n.button.icon-rename {\n\tbackground-image: var(--icon-rename-000);\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\topacity: 0.7;\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n.settings-hint {\n\tmargin-top: -12px;\n\tmargin-bottom: 6px;\n\tcolor: var(--color-text-maxcontrast);\n}\nh2 {\n\tfont-weight: bold;\n\tfont-size: 20px;\n\tmargin-bottom: 12px;\n\tmargin-left: -30px;\n\tline-height: 30px;\n\tcolor: var(--color-text-light);\n}\n.app-settings-section {\nmargin-bottom: 45px;\n}\n"],sourceRoot:""}]),n.a=i},1481:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"[data-v-2d33cadc] .app-navigation-entry__title{color:var(--color-text-maxcontrast)}","",{version:3,sources:["webpack://./src/components/NavigationAccountExpandCollapse.vue"],names:[],mappings:"AA2EA,+CACC,mCAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::v-deep .app-navigation-entry__title {\n\tcolor: var(--color-text-maxcontrast);\n}\n"],sourceRoot:""}]),n.a=i},1484:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"[data-v-001848f2] .counter-bubble__counter{margin-right:43px}","",{version:3,sources:["webpack://./src/components/NavigationOutbox.vue"],names:[],mappings:"AA6DA,2CACC,iBAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::v-deep .counter-bubble__counter {\n\tmargin-right: 43px;\n}\n"],sourceRoot:""}]),n.a=i},1485:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"[data-v-17460ac4] .modal-wrapper .modal-container{display:block;overflow:scroll;transition:transform 300ms ease;border-radius:var(--border-radius-large);box-shadow:0 0 40px rgba(0,0,0,.2);padding:30px 40px 20px}dt[data-v-17460ac4]{width:auto;text-align:left}","",{version:3,sources:["webpack://./src/views/KeyboardShortcuts.vue"],names:[],mappings:"AAgEA,kDACC,aAAA,CACA,eAAA,CACA,+BAAA,CACA,wCAAA,CACA,kCAAA,CACA,sBAAA,CAED,oBACC,UAAA,CACA,eAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::v-deep .modal-wrapper .modal-container {\n\tdisplay: block;\n\toverflow: scroll;\n\ttransition: transform 300ms ease;\n\tborder-radius: var(--border-radius-large);\n\tbox-shadow: 0 0 40px rgba(0,0,0,0.2);\n\tpadding: 30px 40px 20px;\n}\ndt {\n\twidth: auto;\n\ttext-align: left;\n}\n\n"],sourceRoot:""}]),n.a=i},1486:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,"p.app-settings span.icon-loading-small[data-v-6eb9c318]{display:inline-block;vertical-align:middle;padding:5px 0}p.app-settings[data-v-6eb9c318]{padding:10px 0}.app-settings-button[data-v-6eb9c318]{display:block;padding-left:34px;background-position:10px center;text-align:left}.app-settings-button.button.primary.new-button[data-v-6eb9c318]{color:var(--color-main-background)}.app-settings-link[data-v-6eb9c318]{text-decoration:underline}.mailvelope-section[data-v-6eb9c318]{padding-top:15px}.mailvelope-section a.button[data-v-6eb9c318]{display:flex;align-items:center;line-height:normal;min-height:34px}","",{version:3,sources:["webpack://./src/components/AppSettingsMenu.vue"],names:[],mappings:"AA8NA,wDACC,oBAAA,CACA,qBAAA,CACA,aAAA,CAED,gCACC,cAAA,CAED,sCACC,aAAA,CAEA,iBAAA,CACA,+BAAA,CACA,eAAA,CAED,gEACC,kCAAA,CAED,oCACC,yBAAA,CAED,qCACC,gBAAA,CAEA,8CACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,eAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\np.app-settings span.icon-loading-small {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tpadding: 5px 0;\n}\np.app-settings {\n\tpadding: 10px 0;\n}\n.app-settings-button {\n\tdisplay: block;\n\n\tpadding-left: 34px;\n\tbackground-position: 10px center;\n\ttext-align: left;\n}\n.app-settings-button.button.primary.new-button {\n\tcolor: var(--color-main-background);\n}\n.app-settings-link {\n\ttext-decoration: underline;\n}\n.mailvelope-section {\n\tpadding-top: 15px;\n\n\ta.button {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tline-height: normal;\n\t\tmin-height: 34px;\n\t}\n}\n"],sourceRoot:""}]),n.a=i},1487:function(t,n,e){"use strict";var r=e(40),o=e.n(r),a=e(41),i=e.n(a)()(o.a);i.push([t.i,".button[data-v-21a5627e]{width:44px;height:44px;background-color:var(--color-main-background);border:none;display:inline-block;position:absolute;margin-left:254px;margin-top:13px;opacity:.7}.button[data-v-21a5627e]:hover,.button[data-v-21a5627e]:focus{opacity:1;background-color:var(--color-background-hover)}.button[data-v-21a5627e]:disabled{cursor:not-allowed;opacity:.5;animation:rotation-data-v-21a5627e 2s linear}[data-v-21a5627e] .app-navigation-new button{width:240px !important;height:44px}@keyframes rotation-data-v-21a5627e{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}.app-navigation-spacer[data-v-21a5627e]{order:0 !important}","",{version:3,sources:["webpack://./src/components/Navigation.vue"],names:[],mappings:"AA2MA,yBACC,UAAA,CACA,WAAA,CACA,6CAAA,CACA,WAAA,CACA,oBAAA,CACA,iBAAA,CACA,iBAAA,CACA,eAAA,CACA,UAAA,CACA,8DAEC,SAAA,CACA,8CAAA,CAED,kCACC,kBAAA,CACA,UAAA,CACA,4CAAA,CAGF,6CACC,sBAAA,CACA,WAAA,CAED,oCACA,KACC,sBAAA,CAED,GACE,yBAAA,CAAA,CAGF,wCACC,kBAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.button {\n\twidth: 44px;\n\theight: 44px;\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\tdisplay: inline-block;\n\tposition: absolute;\n\tmargin-left: 254px;\n\tmargin-top: 13px;\n\topacity: .7;\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t\tbackground-color:var(--color-background-hover);\n\t}\n\t&:disabled {\n\t\tcursor: not-allowed;\n\t\topacity: .5;\n\t\tanimation: rotation 2s linear;\n\t}\n}\n::v-deep .app-navigation-new button {\n\twidth: 240px !important;\n\theight: 44px;\n}\n@keyframes rotation {\nfrom {\n\ttransform: rotate(-0deg);\n}\nto {\n\t\ttransform: rotate(-360deg);\n\t}\n}\n.app-navigation-spacer {\n\torder: 0 !important;\n}\n"],sourceRoot:""}]),n.a=i},992:function(t,n,e){"use strict";var r=new(e(6).default);n.a=r}}]);
//# sourceMappingURL=mail.1.863ec68f1ba13e8bc128.js.map